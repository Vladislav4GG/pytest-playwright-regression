<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <style>
        * {
            margin: 0;
            padding: 0;
            -webkit-box-sizing: border-box;
            -moz-box-sizing: border-box;
            box-sizing: border-box;
            border: none;
            background-color: transparent;
            font-family: -apple-system, BlinkMacSystemFont,
            "Segoe UI", "Roboto", "Oxygen",
            "Ubuntu", "Cantarell", "Fira Sans",
            "Droid Sans", "Helvetica Neue", sans-serif;
            font-size: 16px;
            font-weight: 400;
        }

        html,
        body,
        form,
        input,
        select {
            position: absolute;
            top: 0;
            left: 0;
            height: 100%;
            width: 100%
        }

        input{
            display: none;
        }

        input::-ms-clear {
            display: none;
        }

        input::-webkit-input-placeholder {
            color: #b3b3b3;
        }

        input::-moz-placeholder {
            color: #b3b3b3;
        }
        input:-ms-input-placeholder {
            color: #b3b3b3;
        }
        input:-moz-placeholder {
            color: #b3b3b3;
        }

        .chckt-input-field--error {
            color: #ff7d00;
        }

        label {
            position: absolute;
            left: -9999px
        }

        :focus {
            outline: 0
        }

        #shiftTabField{
            display: block;
            height: 1px;
            width: 1px;
            position: absolute;
            top: -1px;
        }

        .aria-error{
            position: fixed;
            left: -5px;
            width: 5px;
            z-index: -1;
            opacity: 0;
            overflow: hidden;
        }

        .autocomplete-field{
            position: fixed;
            left: -5px;
            width: 5px;
            z-index: -1;
            opacity: 0;
            display: block;
        }

        @keyframes onautofillstart { from {} }
        @keyframes onautofillcancel { from {} }

        input:-webkit-autofill {
            /*box-shadow: 0 0 0 1000px #FFF inset;
            -webkit-text-fill-color: black;*/

            /*JS can listen to 'animationstart' event*/
            animation-duration: 5000s;
            animation-name: onautofillstart;
        }

        input:not(:-webkit-autofill) {
            animation-duration: 5000s;
            animation-name: onautofillcancel;
        }

        
    </style>
</head>
<body>
<input id="shiftTabField" tabindex="-1" autocomplete="off" aria-hidden="true">
<script type="text/javascript">
/**
 * Opening block for IIFE
 */
(function () {
    var origin = "https:\/\/epson-gb.cbnd-seikoepso3-s1-public.model-t.cc.commerce.ondemand.com";
    var originKey = "test_W2AVUA2AXZG6LPHO57IBE2GEQE6BTXVX";
    var genTime = "2026-02-01T17:13:45Z";
    var checkoutShopperUrl = "https:\/\/checkoutshopper-test.adyen.com\/checkoutshopper\/";

    var adyen = window.adyen = window.adyen || {};
    adyen.key = "10001|AF94EE5F1CAC303E567687CA644F9C3274B158365455EE4D911D982178F6C22A220C4EB9B9344FA5751ADAFA59CE29227DC4891A585C046485052324677A8513EC146E45A906AF53717B354F64795FAD7B061C7BB058FC6B802264EA3D2E3E5500E9AB7B9EC639515ADB4BBA31C078F7D869816B0279EC3BD368B7F6A529E2742A09779063591FE660DD4154BB1E052CE6FBD9C447F7B00D2474DCB536D01D121F192FE9F09B573EDE5223434AA6E5B3149D7768CD1734E08AD040D0B376044CDD80E7FF7F9FEBC188D8D6BEB68618640D50CE854F4D0D397E8AA9EF01509FA0463A02DCD2E45D091C8467419D8B6946C202C79E9A3DE0BA59E91CCCB44B4091";

    /*!
 * 
 *             ***********
 *             securedFields-card version: 4.2.1
 *             ***********
 *         
 */!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=27)}([function(e,t,r){"use strict";var n,o;function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}r.d(t,"E",(function(){return a})),r.d(t,"F",(function(){return c})),r.d(t,"I",(function(){return u})),r.d(t,"D",(function(){return s})),r.d(t,"G",(function(){return l})),r.d(t,"H",(function(){return f})),r.d(t,"S",(function(){return p})),r.d(t,"T",(function(){return d})),r.d(t,"r",(function(){return h})),r.d(t,"ib",(function(){return y})),r.d(t,"t",(function(){return b})),r.d(t,"bb",(function(){return v})),r.d(t,"db",(function(){return g})),r.d(t,"ab",(function(){return m})),r.d(t,"J",(function(){return w})),r.d(t,"W",(function(){return O})),r.d(t,"cb",(function(){return _})),r.d(t,"gb",(function(){return j})),r.d(t,"fb",(function(){return P})),r.d(t,"eb",(function(){return S})),r.d(t,"V",(function(){return k})),r.d(t,"n",(function(){return C})),r.d(t,"o",(function(){return E})),r.d(t,"p",(function(){return x})),r.d(t,"kb",(function(){return A})),r.d(t,"lb",(function(){return R})),r.d(t,"mb",(function(){return T})),r.d(t,"hb",(function(){return D})),r.d(t,"a",(function(){return I})),r.d(t,"b",(function(){return L})),r.d(t,"c",(function(){return K})),r.d(t,"m",(function(){return M})),r.d(t,"d",(function(){return F})),r.d(t,"e",(function(){return B})),r.d(t,"f",(function(){return H})),r.d(t,"g",(function(){return N})),r.d(t,"h",(function(){return V})),r.d(t,"i",(function(){return U})),r.d(t,"j",(function(){return W})),r.d(t,"k",(function(){return G})),r.d(t,"l",(function(){return $})),r.d(t,"pb",(function(){return J})),r.d(t,"qb",(function(){return q})),r.d(t,"ob",(function(){return z})),r.d(t,"jb",(function(){return Y})),r.d(t,"U",(function(){return X})),r.d(t,"q",(function(){return Q})),r.d(t,"s",(function(){return Z})),r.d(t,"N",(function(){return ee})),r.d(t,"M",(function(){return te})),r.d(t,"L",(function(){return re})),r.d(t,"P",(function(){return ne})),r.d(t,"Q",(function(){return oe})),r.d(t,"R",(function(){return ie})),r.d(t,"O",(function(){return ae})),r.d(t,"Z",(function(){return ce})),r.d(t,"Y",(function(){return ue})),r.d(t,"X",(function(){return se})),r.d(t,"K",(function(){return le})),r.d(t,"y",(function(){return fe})),r.d(t,"z",(function(){return pe})),r.d(t,"B",(function(){return de})),r.d(t,"A",(function(){return he})),r.d(t,"C",(function(){return ye})),r.d(t,"u",(function(){return be})),r.d(t,"w",(function(){return ve})),r.d(t,"v",(function(){return ge})),r.d(t,"x",(function(){return me})),r.d(t,"nb",(function(){return we}));var a="encryptedExpiryDate",c="encryptedExpiryMonth",u="encryptedExpiryYear",s="encryptedSecurityCode",l="encryptedSecurityCode3digits",f="encryptedSecurityCode4digits",p="expiryMonth",d="expiryYear",h="cvc",y=" ",b="/",v=3,g=30,m=6,w=11,O=8,_=24,j="message blocked: event origin does not match permitted origin",P="message blocked: postMessage data type is incorrect (event.data not present or not a string)",S="message blocked: postMessage data is not JSON",k="Merchant origin is insecure (not https)",C="config message received and handled",E="config message rejected no adyen window object",x="config message rejected no encryption key",A="special message received and handled",R="special message data lacks main props",T="special message data numKey incorrect",D="message received but not handled",I="autoComplete",L="binValue",K="brand",M="touch",F="config",B="encryption",H="focus",N="IEClearedField",V="incomplete field",U="KeyPressed",W="luhnCheck",G="rightClickPaste",$="shifttab",J="abcdefghijklmnopqrstuvwxyz",q="thyquickbrownfoxjumpsoverlazydog",z="0123456789",Y="required",X="hidden",Q=Y,Z=Y,ee="Card too old",te="Date too far in future",re="Your card expires before check out date",ne="incomplete field",oe="luhn check failed",ie="Unsupported card entered",ae="external validation error",ce="1",ue="A256CBC-HS512",se="RSA-OAEP",le=(i(n={},ne,"error.va.gen.01"),i(n,oe,"error.va.sf-cc-num.01"),i(n,ee,"error.va.sf-cc-dat.01"),i(n,te,"error.va.sf-cc-dat.02"),i(n,re,"error.va.sf-cc-dat.03"),i(n,ie,"error.va.sf-cc-num.03"),i(n,"Invalid account number","error.va.sf-ach-num.01"),i(n,"Invalid bank location id","error.va.sf-ach-loc.01"),i(n,"Invalid password","error.va.sf-kcp-pwd.01"),n),fe=(i(o={},"encryptedBankAccountNumber","Invalid account number"),i(o,"encryptedBankLocationId","Invalid bank location id"),i(o,"encryptedPassword","Invalid password"),o),pe="1111 2222 3333 4444",de="MM/YY",he="1234",ye="123456789012345678901234567890",be="Card number",ve="Expiry date",ge="Security code",me="input field in iframe",we={base:{color:"#00112C",fontSize:"16px",fontWeight:"400"},placeholder:{color:"#707070",fontWeight:"200"},error:{color:"#00112c"},validated:{}}},function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"b",(function(){return o})),r.d(t,"a",(function(){return i}));var n=function(e,t){if(e)return e.querySelector(t)},o=function(e,t,r,n){if("function"!=typeof e.addEventListener){if(!e.attachEvent)throw new Error(": Unable to bind ".concat(t,"-event"));e.attachEvent("on".concat(t),r)}else e.addEventListener(t,r,n)},i=function(e,t,r,n){if("function"==typeof e.addEventListener)e.removeEventListener(t,r,n);else{if(!e.attachEvent)throw new Error(": Unable to unbind ".concat(t,"-event"));e.detachEvent("on".concat(t),r)}}},function(e,t,r){"use strict";var n=/(android)/i.test(navigator.userAgent),o=function(){var e=navigator.userAgent,t=e.indexOf("MSIE ");if(t>0)return parseInt(e.substring(t+5,e.indexOf(".",t)),10);if(e.indexOf("Trident/")>0){var r=e.indexOf("rv:");return parseInt(e.substring(r+3,e.indexOf(".",r)),10)}var n=e.indexOf("Edge/");if(n>0)return parseInt(e.substring(n+5,e.indexOf(".",n)),10);return!1}(),i=/iphone|ipod|ipad/i.test(navigator.userAgent),a=i&&/crios/i.test(navigator.userAgent),c=/(firefox)/i.test(navigator.userAgent),u=/(safari)/i.test(navigator.userAgent)&&!/(chrome)/i.test(navigator.userAgent);t.a={__IS_ANDROID:n,__IS_IE:o,__IS_IOS:i,__IS_CHROME_IOS:a,__IS_FIREFOX:c,__IS_SAFARI:u}},function(e,t,r){"use strict";function n(e){return function(e){if(Array.isArray(e))return o(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return o(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function i(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function a(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?i(Object(r),!0).forEach((function(t){c(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):i(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function c(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(e){return(u="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){return!1!==e&&function(e){return null!=e}(e)}function l(e){return"object"===u(e)&&null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function f(e,t){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:void 0}),e)}function p(e,t,r){return a(a({},e),{},c({},t,r))}function d(e,t){var r=e&&Object.keys(e);r&&r.length&&r.map((function(r){return t[r]=e[r],!0}))}function h(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=l(t[0])?t[0]:t;return{from:function(e){return n.map((function(t){return t in e?c({},t,e[t]):{}})).reduce((function(e,t){return a(a({},e),t)}),{})}}}function y(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var o=l(t[0])?t[0]:t;return{from:function(e){var t=Object.keys(e).filter((function(e){return!o.includes(e)}));return h.apply(void 0,n(t)).from(e)}}}function b(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t,o=n.shift();function i(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return o.apply(this,n.concat(t))}return i}function v(e){if("string"!=typeof e)throw new Error("This function only works with strings due to JavaScript's problems with big numbers");var t=e.length,r=e.charAt(t-1),n=new Array(t);return n.fill(r),e===n.join("")}r.d(t,"g",(function(){return s})),r.d(t,"c",(function(){return f})),r.d(t,"a",(function(){return p})),r.d(t,"h",(function(){return d})),r.d(t,"e",(function(){return h})),r.d(t,"f",(function(){return y})),r.d(t,"d",(function(){return b})),r.d(t,"b",(function(){return v}))},function(e,t,r){"use strict";r.d(t,"c",(function(){return I})),r.d(t,"b",(function(){return d})),r.d(t,"a",(function(){return b}));var n,o,i,a,c,u={},s=[],l=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function f(e,t){for(var r in t)e[r]=t[r];return e}function p(e){var t=e.parentNode;t&&t.removeChild(e)}function d(e,t,r){var n,o,i,a=arguments,c={};for(i in t)"key"==i?n=t[i]:"ref"==i?o=t[i]:c[i]=t[i];if(arguments.length>3)for(r=[r],i=3;i<arguments.length;i++)r.push(a[i]);if(null!=r&&(c.children=r),"function"==typeof e&&null!=e.defaultProps)for(i in e.defaultProps)void 0===c[i]&&(c[i]=e.defaultProps[i]);return h(e,c,n,o,null)}function h(e,t,r,o,i){var a={type:e,props:t,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:null==i?++n.__v:i};return null!=n.vnode&&n.vnode(a),a}function y(e){return e.children}function b(e,t){this.props=e,this.context=t}function v(e,t){if(null==t)return e.__?v(e.__,e.__.__k.indexOf(e)+1):null;for(var r;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e)return r.__e;return"function"==typeof e.type?v(e):null}function g(e){var t,r;if(null!=(e=e.__)&&null!=e.__c){for(e.__e=e.__c.base=null,t=0;t<e.__k.length;t++)if(null!=(r=e.__k[t])&&null!=r.__e){e.__e=e.__c.base=r.__e;break}return g(e)}}function m(e){(!e.__d&&(e.__d=!0)&&o.push(e)&&!w.__r++||a!==n.debounceRendering)&&((a=n.debounceRendering)||i)(w)}function w(){for(var e;w.__r=o.length;)e=o.sort((function(e,t){return e.__v.__b-t.__v.__b})),o=[],e.some((function(e){var t,r,n,o,i,a;e.__d&&(i=(o=(t=e).__v).__e,(a=t.__P)&&(r=[],(n=f({},o)).__v=o.__v+1,E(a,o,n,t.__n,void 0!==a.ownerSVGElement,null!=o.__h?[i]:null,r,null==i?v(o):i,o.__h),x(r,o),o.__e!=i&&g(o)))}))}function O(e,t,r,n,o,i,a,c,l,f){var d,b,g,m,w,O,P,S=n&&n.__k||s,k=S.length;for(l==u&&(l=null!=a?a[0]:k?v(n,0):null),r.__k=[],d=0;d<t.length;d++)if(null!=(m=r.__k[d]=null==(m=t[d])||"boolean"==typeof m?null:"string"==typeof m||"number"==typeof m?h(null,m,null,null,m):Array.isArray(m)?h(y,{children:m},null,null,null):m.__b>0?h(m.type,m.props,m.key,null,m.__v):m)){if(m.__=r,m.__b=r.__b+1,null===(g=S[d])||g&&m.key==g.key&&m.type===g.type)S[d]=void 0;else for(b=0;b<k;b++){if((g=S[b])&&m.key==g.key&&m.type===g.type){S[b]=void 0;break}g=null}E(e,m,g=g||u,o,i,a,c,l,f),w=m.__e,(b=m.ref)&&g.ref!=b&&(P||(P=[]),g.ref&&P.push(g.ref,null,m),P.push(b,m.__c||w,m)),null!=w?(null==O&&(O=w),"function"==typeof m.type&&null!=m.__k&&m.__k===g.__k?m.__d=l=_(m,l,e):l=j(e,m,g,S,a,w,l),f||"option"!==r.type?"function"==typeof r.type&&(r.__d=l):e.value=""):l&&g.__e==l&&l.parentNode!=e&&(l=v(g))}if(r.__e=O,null!=a&&"function"!=typeof r.type)for(d=a.length;d--;)null!=a[d]&&p(a[d]);for(d=k;d--;)null!=S[d]&&("function"==typeof r.type&&null!=S[d].__e&&S[d].__e==r.__d&&(r.__d=v(n,d+1)),T(S[d],S[d]));if(P)for(d=0;d<P.length;d++)R(P[d],P[++d],P[++d])}function _(e,t,r){var n,o;for(n=0;n<e.__k.length;n++)(o=e.__k[n])&&(o.__=e,t="function"==typeof o.type?_(o,t,r):j(r,o,o,e.__k,null,o.__e,t));return t}function j(e,t,r,n,o,i,a){var c,u,s;if(void 0!==t.__d)c=t.__d,t.__d=void 0;else if(o==r||i!=a||null==i.parentNode)e:if(null==a||a.parentNode!==e)e.appendChild(i),c=null;else{for(u=a,s=0;(u=u.nextSibling)&&s<n.length;s+=2)if(u==i)break e;e.insertBefore(i,a),c=a}return void 0!==c?c:i.nextSibling}function P(e,t,r){"-"===t[0]?e.setProperty(t,r):e[t]=null==r?"":"number"!=typeof r||l.test(t)?r:r+"px"}function S(e,t,r,n,o){var i,a,c;if(o&&"className"==t&&(t="class"),"style"===t)if("string"==typeof r)e.style.cssText=r;else{if("string"==typeof n&&(e.style.cssText=n=""),n)for(t in n)r&&t in r||P(e.style,t,"");if(r)for(t in r)n&&r[t]===n[t]||P(e.style,t,r[t])}else"o"===t[0]&&"n"===t[1]?(i=t!==(t=t.replace(/Capture$/,"")),(a=t.toLowerCase())in e&&(t=a),t=t.slice(2),e.l||(e.l={}),e.l[t+i]=r,c=i?C:k,r?n||e.addEventListener(t,c,i):e.removeEventListener(t,c,i)):"list"!==t&&"tagName"!==t&&"form"!==t&&"type"!==t&&"size"!==t&&"download"!==t&&"href"!==t&&"contentEditable"!==t&&!o&&t in e?e[t]=null==r?"":r:"function"!=typeof r&&"dangerouslySetInnerHTML"!==t&&(t!==(t=t.replace(/xlink:?/,""))?null==r||!1===r?e.removeAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase()):e.setAttributeNS("http://www.w3.org/1999/xlink",t.toLowerCase(),r):null==r||!1===r&&!/^ar/.test(t)?e.removeAttribute(t):e.setAttribute(t,r))}function k(e){this.l[e.type+!1](n.event?n.event(e):e)}function C(e){this.l[e.type+!0](n.event?n.event(e):e)}function E(e,t,r,o,i,a,c,u,s){var l,p,d,h,v,g,m,w,_,j,P,S=t.type;if(void 0!==t.constructor)return null;null!=r.__h&&(s=r.__h,u=t.__e=r.__e,t.__h=null,a=[u]),(l=n.__b)&&l(t);try{e:if("function"==typeof S){if(w=t.props,_=(l=S.contextType)&&o[l.__c],j=l?_?_.props.value:l.__:o,r.__c?m=(p=t.__c=r.__c).__=p.__E:("prototype"in S&&S.prototype.render?t.__c=p=new S(w,j):(t.__c=p=new b(w,j),p.constructor=S,p.render=D),_&&_.sub(p),p.props=w,p.state||(p.state={}),p.context=j,p.__n=o,d=p.__d=!0,p.__h=[]),null==p.__s&&(p.__s=p.state),null!=S.getDerivedStateFromProps&&(p.__s==p.state&&(p.__s=f({},p.__s)),f(p.__s,S.getDerivedStateFromProps(w,p.__s))),h=p.props,v=p.state,d)null==S.getDerivedStateFromProps&&null!=p.componentWillMount&&p.componentWillMount(),null!=p.componentDidMount&&p.__h.push(p.componentDidMount);else{if(null==S.getDerivedStateFromProps&&w!==h&&null!=p.componentWillReceiveProps&&p.componentWillReceiveProps(w,j),!p.__e&&null!=p.shouldComponentUpdate&&!1===p.shouldComponentUpdate(w,p.__s,j)||t.__v===r.__v){p.props=w,p.state=p.__s,t.__v!==r.__v&&(p.__d=!1),p.__v=t,t.__e=r.__e,t.__k=r.__k,p.__h.length&&c.push(p);break e}null!=p.componentWillUpdate&&p.componentWillUpdate(w,p.__s,j),null!=p.componentDidUpdate&&p.__h.push((function(){p.componentDidUpdate(h,v,g)}))}p.context=j,p.props=w,p.state=p.__s,(l=n.__r)&&l(t),p.__d=!1,p.__v=t,p.__P=e,l=p.render(p.props,p.state,p.context),p.state=p.__s,null!=p.getChildContext&&(o=f(f({},o),p.getChildContext())),d||null==p.getSnapshotBeforeUpdate||(g=p.getSnapshotBeforeUpdate(h,v)),P=null!=l&&l.type===y&&null==l.key?l.props.children:l,O(e,Array.isArray(P)?P:[P],t,r,o,i,a,c,u,s),p.base=t.__e,t.__h=null,p.__h.length&&c.push(p),m&&(p.__E=p.__=null),p.__e=!1}else null==a&&t.__v===r.__v?(t.__k=r.__k,t.__e=r.__e):t.__e=A(r.__e,t,r,o,i,a,c,s);(l=n.diffed)&&l(t)}catch(e){t.__v=null,(s||null!=a)&&(t.__e=u,t.__h=!!s,a[a.indexOf(u)]=null),n.__e(e,t,r)}}function x(e,t){n.__c&&n.__c(t,e),e.some((function(t){try{e=t.__h,t.__h=[],e.some((function(e){e.call(t)}))}catch(e){n.__e(e,t.__v)}}))}function A(e,t,r,n,o,i,a,c){var l,f,p,d,h,y=r.props,b=t.props;if(o="svg"===t.type||o,null!=i)for(l=0;l<i.length;l++)if(null!=(f=i[l])&&((null===t.type?3===f.nodeType:f.localName===t.type)||e==f)){e=f,i[l]=null;break}if(null==e){if(null===t.type)return document.createTextNode(b);e=o?document.createElementNS("http://www.w3.org/2000/svg",t.type):document.createElement(t.type,b.is&&{is:b.is}),i=null,c=!1}if(null===t.type)y===b||c&&e.data===b||(e.data=b);else{if(null!=i&&(i=s.slice.call(e.childNodes)),p=(y=r.props||u).dangerouslySetInnerHTML,d=b.dangerouslySetInnerHTML,!c){if(null!=i)for(y={},h=0;h<e.attributes.length;h++)y[e.attributes[h].name]=e.attributes[h].value;(d||p)&&(d&&(p&&d.__html==p.__html||d.__html===e.innerHTML)||(e.innerHTML=d&&d.__html||""))}(function(e,t,r,n,o){var i;for(i in r)"children"===i||"key"===i||i in t||S(e,i,null,r[i],n);for(i in t)o&&"function"!=typeof t[i]||"children"===i||"key"===i||"value"===i||"checked"===i||r[i]===t[i]||S(e,i,t[i],r[i],n)})(e,b,y,o,c),d?t.__k=[]:(l=t.props.children,O(e,Array.isArray(l)?l:[l],t,r,n,"foreignObject"!==t.type&&o,i,a,u,c)),c||("value"in b&&void 0!==(l=b.value)&&(l!==e.value||"progress"===t.type&&!l)&&S(e,"value",l,y.value,!1),"checked"in b&&void 0!==(l=b.checked)&&l!==e.checked&&S(e,"checked",l,y.checked,!1))}return e}function R(e,t,r){try{"function"==typeof e?e(t):e.current=t}catch(e){n.__e(e,r)}}function T(e,t,r){var o,i,a;if(n.unmount&&n.unmount(e),(o=e.ref)&&(o.current&&o.current!==e.__e||R(o,null,t)),r||"function"==typeof e.type||(r=null!=(i=e.__e)),e.__e=e.__d=void 0,null!=(o=e.__c)){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(e){n.__e(e,t)}o.base=o.__P=null}if(o=e.__k)for(a=0;a<o.length;a++)o[a]&&T(o[a],t,r);null!=i&&p(i)}function D(e,t,r){return this.constructor(e,r)}function I(e,t,r){var o,i,a;n.__&&n.__(e,t),i=(o=r===c)?null:r&&r.__k||t.__k,e=d(y,null,[e]),a=[],E(t,(o?t:r||t).__k=e,i||u,u,void 0!==t.ownerSVGElement,r&&!o?[r]:i?null:t.childNodes.length?s.slice.call(t.childNodes):null,a,r||u,o),x(a,e)}n={__e:function(e,t){for(var r,n,o,i=t.__h;t=t.__;)if((r=t.__c)&&!r.__)try{if((n=r.constructor)&&null!=n.getDerivedStateFromError&&(r.setState(n.getDerivedStateFromError(e)),o=r.__d),null!=r.componentDidCatch&&(r.componentDidCatch(e),o=r.__d),o)return t.__h=i,r.__E=r}catch(t){e=t}throw e},__v:0},b.prototype.setState=function(e,t){var r;r=null!=this.__s&&this.__s!==this.state?this.__s:this.__s=f({},this.state),"function"==typeof e&&(e=e(f({},r),this.props)),e&&f(r,e),null!=e&&this.__v&&(t&&this.__h.push(t),m(this))},b.prototype.forceUpdate=function(e){this.__v&&(this.__e=!0,e&&this.__h.push(e),m(this))},b.prototype.render=y,o=[],i="function"==typeof Promise?Promise.prototype.then.bind(Promise.resolve()):setTimeout,w.__r=0,c=u},function(e,t,r){"use strict";(function(e){function n(){return"function"==typeof WebSocketPair}function o(){try{return void 0!==e.versions.node}catch(e){return!1}}r.d(t,"a",(function(){return n})),r.d(t,"b",(function(){return o}))}).call(this,r(20))},function(e,t,r){"use strict";r.d(t,"d",(function(){return o})),r.d(t,"h",(function(){return i})),r.d(t,"g",(function(){return a})),r.d(t,"a",(function(){return c})),r.d(t,"e",(function(){return u})),r.d(t,"i",(function(){return s})),r.d(t,"f",(function(){return l})),r.d(t,"b",(function(){return f})),r.d(t,"c",(function(){return p}));var n=r(0);function o(e){return e.charAt(e.length-1)}function i(e,t){var r=t||1;return e.substr(0,e.length-r)}function a(e,t){var r=t||"some";return 1===e.length&&"number"==typeof parseInt(e)?r+n.i:e||r}function c(e){return e.charAt(0).toUpperCase()+e.slice(1)}function u(e){return e.charAt(0).toLowerCase()+e.slice(1)}function s(e){var t=null,r=null,n=e.replace(/[^\d\-|]/g,""),o=e.replace(/[^\-|]/g,"").substr(0,1),i=n.match(/\d+/g);if(!i)return{startVal:t,endVal:r,separatorStr:o};var a=i.map((function(e){return+e})).filter((function(e,t,r){return r.indexOf(e)===t&&e>0})).reduce((function(e,t){return e.length<2&&e.push(t),e}),[]).sort((function(e,t){return e-t}));return a.length?1===a.length?{startVal:t,endVal:r=a[0],separatorStr:o}:{startVal:t=a[0],endVal:r=a[1],separatorStr:o}:{startVal:t,endVal:r,separatorStr:o}}function l(e,t){var r=+e,o=n.pb[r],i=n.qb.indexOf(o);if(i>9){var a=String(i).split(""),c=t.lastIndexOf(a[0]),u=t.lastIndexOf(a[1]);return"".concat(c,"_").concat(u)}return String(t.lastIndexOf(i))}function f(e,t){var r=e.split("_"),o=t[Number(r[0])],i=r.length>1?Number(o+t[Number(r[1])]):Number(o),a=n.qb[i];return n.pb.indexOf(a).toString()}function p(e){var t=e.replace(/[\s-]/g,"");if(!t.length)return!1;var r=Number(t);return Number.isFinite(r)}},function(e,t,r){"use strict";r.d(t,"c",(function(){return o})),r.d(t,"d",(function(){return i})),r.d(t,"b",(function(){return a})),r.d(t,"e",(function(){return c})),r.d(t,"f",(function(){return u})),r.d(t,"a",(function(){return s}));var n=r(0);function o(e,t){var r="$1".concat(n.ib),o="$1".concat(n.ib,"$2").concat(n.ib),i=e.replace(/(\d{4})/g,r);return t&&(e.length>=8&&(i=e.replace(/(\d{4})/,r)),e.length>=10&&(i=e.replace(/(\d{4})(\d{6})/g,o))),i}function i(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:" ",r=new RegExp("(.{".concat(e,"})(?!$)"),"g");return function(e){return e.replace(/\W/gi,"").replace(r,"$1".concat(t)).trim()}}function a(e){var t=e.substr(0,2),r=e.substr(2,4);return t.length?t+n.t+r:""}function c(e){var t=0,r=e.split(n.t),o=[];if(r.forEach((function(e){if(""!==e){var t=e.replace(/[^\d]/g,"");o.push(t)}})),2===o.length&&1===o[0].length){var i=o[1].substr(0,1);o[0]+=i,o[1]=o[1].substr(1),t=2}return{dateArr:o,cursorPosFlag:t,originalVal:e}}function u(e){return{unmaskedVal:e.replace(/[^\d]/g,""),originalVal:e}}function s(e,t){var r=Math.floor(e/t);return e%t>0?r:r-1}},function(e,t,r){"use strict";var n=function(e,t){switch(t){case"key":case"code":return"Backspace"===e||"Delete"===e?"delete":"ArrowLeft"===e?"leftarrow":"ArrowRight"===e?"rightarrow":" "===e||"Space"===e?"space":"Shift"===e||"ShiftRight"===e||"ShiftLeft"===e?"shift":"Tab"===e?"tab":"Unidentified"===e?"androidkeystroke":e;case"keyCode":case"which":return 8===e||46===e?"delete":37===e?"leftarrow":39===e?"rightarrow":32===e?"space":16===e?"shift":9===e?"tab":229===e?"androidkeystroke":String.fromCharCode(e);default:return e}};t.a={handleKeyPress:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:n;return void 0!==e.key?t(e.key,"key"):void 0!==e.code&&""!==e.code?t(e.code,"code"):e.keyCode>=0?t(e.keyCode,"keyCode"):void 0!==e.which&&t(e.which,"which")},getCaretPos:function(e,t){var r=!0===t?"selectionEnd":"selectionStart";return r in e?e[r]:0},setSelectionRange:function(e,t,r){var n=r||t;e.setSelectionRange&&(e.focus(),e.setSelectionRange(t,n))},__DELETE_OR_BACKSPACE:"delete",__X_KEY:"xKeyPressed"}},function(e,t,r){"use strict";function n(e){var t=e.fieldType,r=e.placeholdersConfig,n=e.ariaConfig,o=e.encryptionKey,i=e.numKey,a=e.legacyInputMode,c=e.uniqueIdFromLabel,u=e.implementationType,s=e.isCollatingErrors;return{ref:e.handleComponentRef,fieldType:t,placeholdersConfig:r,ariaConfig:n,encryptionKey:o,numKey:i,onChange:e.onChange,legacyInputMode:a,uniqueIdFromLabel:c,implementationType:u,isCollatingErrors:s}}r.d(t,"a",(function(){return n}))},function(e,t,r){"use strict";var n=r(4),o=r(13);var i=r(2),a=r(1);function c(e){var t=this;return new Promise((function(r){""!==e.error||t.state.hasUnsupportedCard?r(t.handleErrorOnField(e)):t.isValidLength?r(t.handleValidField(e)):r(t.handleInvalidField(e))}))}var u=r(3),s=r(0);function l(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e){var t,r,n,o,i,a,c=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?l(Object(r),!0).forEach((function(t){f(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):l(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e),p=s.K[c.error],d=null!==(t=null===(r=this.props.ariaErrorText)||void 0===r||null===(n=r[p])||void 0===n?void 0:n.toString())&&void 0!==t?t:c.error;this.state.hasUnsupportedCard&&(p=s.K[s.R],d=null!==(o=null===(i=this.props.ariaErrorText)||void 0===i||null===(a=i[p])||void 0===a?void 0:a.toString())&&void 0!==o?o:s.R);return c.error=p,c=Object(u.f)("endDigits").from(c),{onChangeObj:this.state.hasUnsupportedCard?null:c,stateObj:{status:"errorOnField",showAsValid:!1,error:d}}}function d(e){var t=null,r=null;return this.setState((function(e){return t=e.showAsValid,r=""!==e.error,{}})),t||r?{onChangeObj:e,stateObj:{showAsValid:!1,error:""}}:{onChangeObj:null,stateObj:{}}}var h=r(12),y=r(6);function b(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function v(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){b(i,n,o,a,c,"next",e)}function c(e){b(i,n,o,a,c,"throw",e)}a(void 0)}))}}function g(e,t,r,n){return m.apply(this,arguments)}function m(){return(m=v(regeneratorRuntime.mark((function e(t,r,n,o){var i,a,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=this.props.fieldType,a=Object(u.c)(this,r),c={valToEncrypt:a,encryptionType:i,encryptionKey:this.props.encryptionKey,eventLogger:this.eventLogger,encryptionName:t,fieldType:i},e.next=5,Object(h.a)(c);case 5:if(!(l=e.sent)){e.next=10;break}return n.map((function(e){return Object.prototype.hasOwnProperty.call(o,e)&&(l[e]=o[e]),!0})),i===s.F&&(l.code=Object(y.f)(a,l[s.F][0].blob)),e.abrupt("return",{onChangeObj:l,stateObj:{showAsValid:!0,error:""}});case 10:return console.warn("### handleValidField::ENCRYPTION FAIL:: encryptedObj=",l),e.abrupt("return",{onChangeObj:null,stateObj:{}});case 12:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var w=r(7),O=function(e){var t=e;return t.fireEvent=function(e,t,r,n){var o;try{o=new Event(t),r&&n&&(o[r]=n)}catch(r){if(!document.createEvent)return void e.fireEvent("on".concat(t));(o=document.createEvent("Event")).initEvent(t,!1,!1)}e.dispatchEvent(o)},t},_=r(8);function j(e){var t=this.fieldRef,r={};if(O(r),this.props.fieldType===e.fieldType){if(this.setState({shouldDisableField:!1}),this.hasFocus){var n=t.value,o=_.a.getCaretPos(t);return t.value=n,_.a.setSelectionRange(t,o),"handleClickMessage: Field types match, securedField has focus - reset field value & set caret pos"}return r.fireEvent(t,"focus"),"handleClickMessage: Field types match, securedField does not have focus - fire focus event"}return i.a.__IS_IOS&&this.setState({shouldDisableField:!0}),this.hasFocus?(r.fireEvent(t,"blur"),this.hasFocus=!1,t.disabled=!0,setTimeout((function(){t.disabled=!1}),10),"handleClickMessage: Field types do not match but this securedField does have focus so force it to blur"):"handleClickMessage: Field types do not match but this securedField does not have focus so do nothing"}function P(e){if(this.props.fieldType===e.fieldType&&!0===e.externalValidation){var t,r,n,o=null!==(t=null===(r=this.props.ariaErrorText)||void 0===r||null===(n=r[e.code])||void 0===n?void 0:n.toString())&&void 0!==t?t:s.O;return this.setState({showAsValid:!1,error:o}),!0}return!1}function S(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r={};O(r),t&&(this.fieldRef.value=e.autoComplete,r.fireEvent(this.fieldRef,"paste")),r.fireEvent(this.fieldRef,"input")}function k(){this.state.isDirty||this.setState({isDirty:!0})}function C(e){return(C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function x(e,t){return(x=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=T(e);if(t){var o=T(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function T(e){return(T=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var D,I,L,K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&x(e,t)}(f,e);var t,r,n,l=A(f);function f(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,f);var r=(t=l.call(this,e)).processConfigObjects(t.props);return t.props.ariaErrorText=r.ariaErrorText,t.props.placeholder=Object(u.g)(r.placeholder)?r.placeholder:t.props.placeholder,t.props.ariaLabel=r.ariaLabel?r.ariaLabel.toString():t.props.ariaLabel,t.isComposing=!1,t.wasComposing=!1,t}return t=f,(r=[{key:"init",value:function(){var e=this;if(!this.props.encryptionName||""===this.props.encryptionName)throw new Error('Error: An "encryptionName" property has not been set on the SF component');this.setBindings(),this.setListeners(),this.specialMessageOnClick=j,this.specialMessageExternalValidation=P,this.specialMessageAutoComplete=S,this.processInputFeedback=c,this.handleErrorOnField=p,this.handleInvalidField=d,this.handleValidField=g,this.setDirty=k,this.unmask=w.f,this.validate=function(){throw new Error("Input element does not have a validation function defined.")},this.mask=null,this.onAutoFillStart=function(t){return e.setState({isInAutofillMode:!0}),t.classList.add("is-autofilled")},this.onAutoFillCancel=function(e){return e.classList.remove("is-autofilled")}}},{key:"setBindings",value:function(){var e=this;this._onKeyDown=this.onKeyDown.bind(this),this._onInput=this.onInput.bind(this),this._onPaste=this.onPaste.bind(this),this._onChange=this.onChangeEvent.bind(this),this._onAnimationStart=this.onAnimationStart.bind(this),this._onCompositionStart=this.onCompositionStart.bind(this),this._onCompositionEnd=this.onCompositionEnd.bind(this),i.a.__IS_ANDROID&&(this._onKeyUpAndroid=this.onKeyUpAndroid.bind(this)),i.a.__IS_IOS&&(this._onTouchStart=function(){e.onChange({action:s.m})},this._onClick=function(){e.setState({shouldDisableField:!1})},this.specialMessageOnCheckoutTouchEvent=function(){e.setState({shouldDisableField:!0})}),this._onFocus=this.onFocus.bind(this),this._onBlur=this.onBlur.bind(this)}},{key:"setListeners",value:function(){Object(a.b)(this.fieldRef,"keydown",this._onKeyDown,!1),Object(a.b)(this.fieldRef,"input",this._onInput,!1),Object(a.b)(this.fieldRef,"paste",this._onPaste,!1),Object(a.b)(this.fieldRef,"change",this._onChange,!1),Object(a.b)(this.fieldRef,"animationstart",this._onAnimationStart,!1),Object(a.b)(this.fieldRef,"compositionstart",this._onCompositionStart,!1),Object(a.b)(this.fieldRef,"compositionend",this._onCompositionEnd,!1),i.a.__IS_ANDROID&&Object(a.b)(this.fieldRef,"keyup",this._onKeyUpAndroid,!1),i.a.__IS_IOS&&(Object(a.b)(document,"touchstart",this._onTouchStart),Object(a.b)(document,"click",this._onClick)),Object(a.b)(this.fieldRef,"focus",this._onFocus,!1),Object(a.b)(this.fieldRef,"blur",this._onBlur,!1)}},{key:"onKeyDown",value:function(e){var t=_.a.handleKeyPress(e);this.oldValue=this.fieldRef.value,this.deleteKeyPressed=t===_.a.__DELETE_OR_BACKSPACE,this.action=Object(y.g)(t,this.desc),this.setState({status:"keyDown"})}},{key:"onInput",value:function(){throw new Error("Subclass must implement an onInput method")}},{key:"onPaste",value:function(){}},{key:"onChangeEvent",value:function(e){}},{key:"onAnimationStart",value:function(e){var t=e.target;switch(e.animationName){case"onautofillstart":return this.onAutoFillStart(t);case"onautofillcancel":return this.onAutoFillCancel(t);default:return null}}},{key:"onKeyUpAndroid",value:function(){}},{key:"onCompositionStart",value:function(){this.isComposing=!0,this.setState({status:"compositionStart",showAsValid:!1})}},{key:"onCompositionEnd",value:function(e){this.isComposing=!1,i.a.__IS_FIREFOX||10===i.a.__IS_IE||i.a.__IS_IE&&i.a.__IS_IE>11?this.wasComposing=!0:this.onInput(e,!0)}},{key:"onFocus",value:function(){var e=this.getNumChars();this.hasFocus=!0,this.onChange({action:s.f,focus:!0,numChars:e})}},{key:"onBlur",value:function(e,t){var r=this.getNumChars();this.hasFocus=!1,this.onChange({action:s.f,focus:!1,numChars:r}),t||this.checkIncompleteField()}},{key:"getNumChars",value:function(){return Object(w.f)(this.fieldRef.value).unmaskedVal.length}},{key:"checkIncompleteField",value:function(){var e=this,t=null;this.fieldRef.value.length&&!this.isValidLength&&""===this.state.error&&(t={error:s.y[this.props.fieldType]||s.P,action:s.h}),this.fieldRef.value.length||this.state.error.toLowerCase()!==s.P.toLowerCase()||(t={error:"",action:s.i}),t&&this.processInputFeedback(t).then((function(t){var r=t.onChangeObj,n=t.stateObj;r&&e.onChange(r),e.setState(n)}))}},{key:"specialMessageOnFocus",value:function(){var e=this;i.a.__IS_IOS?this.setState({shouldDisableField:!1},(function(){var t={};O(t),t.fireEvent(document,"touchstart"),setTimeout((function(){e.fieldRef.focus()}),200)})):this.fieldRef.focus()}},{key:"specialMessageOnBrand",value:function(){}},{key:"specialMessageOnCode",value:function(){}},{key:"specialMessageExpiryDatePolicy",value:function(){}},{key:"specialMessageUnsupportedCard",value:function(){}},{key:"destroy",value:function(){Object(a.a)(this.fieldRef,"keydown",this._onKeyDown,!1),Object(a.a)(this.fieldRef,"input",this._onInput,!1),Object(a.a)(this.fieldRef,"paste",this._onPaste,!1),Object(a.a)(this.fieldRef,"change",this._onChange,!1),Object(a.a)(this.fieldRef,"animationstart",this._onAnimationStart,!1),Object(a.a)(this.fieldRef,"compositionstart",this._onCompositionStart,!1),Object(a.a)(this.fieldRef,"compositionend",this._onCompositionEnd,!1),i.a.__IS_ANDROID&&Object(a.a)(this.fieldRef,"keyup",this._onKeyUpAndroid,!1),i.a.__IS_IOS&&(Object(a.a)(document,"touchstart",this._onTouchStart),Object(a.a)(document,"click",this._onClick)),Object(a.a)(this.fieldRef,"focus",this._onFocus,!1),Object(a.a)(this.fieldRef,"blur",this._onBlur,!1),this.eventLogger&&this.eventLogger.destroy()}},{key:"processConfigObjects",value:function(e){var t,r,n,i,a=Object(o.a)(e.fieldType,e.placeholdersConfig),c=(t=e.fieldType,r=e.ariaConfig,n={label:void 0,error:void 0},i=Object.keys(n),r&&Object.prototype.hasOwnProperty.call(r,t)&&Object.keys(r[t]).forEach((function(e){if(i.includes(e)){var o=r[t][e];n[e]=o}})),n);return{placeholder:a.placeholder,ariaLabel:c.label,ariaErrorText:c.error}}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"componentWillUnmount",value:function(){}},{key:"render",value:function(){throw new Error("Input element cannot be rendered.")}}])&&E(t.prototype,r),n&&E(t,n),Object.defineProperty(t,"prototype",{writable:!1}),f}(n.a);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t){var r=null,n=null;if("string"!==M(e).toLowerCase()&&!e){if(i.a.__IS_IE&&(10===i.a.__IS_IE||11===i.a.__IS_IE))return null;r="",n=s.k}if(i.a.__IS_IE&&(10===i.a.__IS_IE||11===i.a.__IS_IE)&&(""!==e&&""===t&&(r="",n=s.g),""===e&&""===t))return null;var o=t;return/[\uFF10-\uFF19]/g.test(o)&&(o=o.replace(/[\uFF10-\uFF19]/g,(function(e){return String.fromCharCode(e.charCodeAt(0)-65248)}))),{oldValue:r,action:n,currentVal:o}}function B(e){var t=this.unmask(e);Object(u.h)(this.extraValidationProps,t);var r=this.validate(t),n=r.newValue,o=r.isValidLength,i=r.error,a=r.propsOnThis,c=r.newCursorPosition,s=r.maxLength,l=r.commObj;return i.length?(Object(u.h)(a,this),this.setState({status:"onInput_finalised",commObj:l}),l):(this.fieldRef.value=n,c&&_.a.setSelectionRange(this.fieldRef,c),l=Object(u.a)(l,"error",""),l=Object(u.a)(l,"action",Object(y.g)(this.action,this.desc)),this.isValidLength=o,this.deleteKeyPressed=!1,Object(u.h)(a,this),this.setState({status:"onInput_finalised",maxLength:s||this.props.maxLength,commObj:l}),l)}function H(e){return(H="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function N(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return(V=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function U(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=$(e);if(t){var o=$(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return W(this,r)}}function W(e,t){if(t&&("object"===H(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return G(e)}function G(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function $(e){return($=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function J(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}L={onChange:function(){}},(I="defaultProps")in(D=K)?Object.defineProperty(D,I,{value:L,enumerable:!0,configurable:!0,writable:!0}):D[I]=L;var q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&V(e,t)}(c,e);var t,r,o,a=U(c);function c(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),J(G(t=a.call(this,e)),"handleFieldRef",(function(e){t.fieldRef=e}));var r=t.props.placeholder===s.C?t.props.placeholder.substr(0,t.props.maxLength):t.props.placeholder;return t.setState({status:"initialising",error:"",showAsValid:!1,maxLength:t.props.maxLength,hasUnsupportedCard:!1,ariaRequired:"true",displayPolicy:s.jb,placeholder:r,isDirty:!1,shouldDisableField:i.a.__IS_IOS,isInAutofillMode:!1,autofillHasHappened:!1}),t.handleOnInput=B,t.desc=t.props.description,t.isValidLength=!1,t.action="",t.oldValue=void 0,t.deleteKeyPressed=!1,t.valToEncrypt=t.props.valToEncrypt||"fieldRef.value",t.extraFeedbackPropsArr=[],t.extraValidationProps={},t}return t=c,(r=[{key:"onChange",value:function(e){this.props.onChange(e)}},{key:"componentDidMount",value:function(){this.init(),this.handleValidField=Object(u.d)(this.handleValidField,this.props.encryptionName,this.valToEncrypt,this.extraFeedbackPropsArr),this.props.unmask&&(this.unmask=this.props.unmask),this.props.mask&&(this.mask=this.props.mask),this.validate=this.props.validate,this.setState({status:"mounted"})}},{key:"onInput",value:function(e,t,r){if(this.setDirty(),this.isComposing)return{isComposing:!0};var n=F(this.oldValue,this.fieldRef.value);return n?(null!==n.oldValue&&(this.oldValue=n.oldValue,this.action=n.action),r||this.handleOnInput(n.currentVal,e),n):{unwantedIEEvent:!0}}},{key:"componentDidUpdate",value:function(){var e=this;if("onInput_finalised"===this.state.status){var t=this.state.commObj;t&&(this.setState({status:"processing_input"}),this.processInputFeedback(t).then((function(t){var r=t.onChangeObj,n=t.stateObj;r&&e.onChange(r),e.setState(n)})))}}},{key:"componentWillUnmount",value:function(){this.destroy(),this.fieldRef=null}},{key:"isHideableField",value:function(){return this.props.fieldType===s.E||this.props.fieldType===s.F||this.props.fieldType===s.I||this.props.fieldType===s.D}},{key:"render",value:function(e,t,r){var o=e.fieldType,i=e.autoComplete,a=e.ariaLabel,c=e.legacyInputMode,u=e.uniqueIdFromLabel,l=e.implementationType,f=e.isCollatingErrors,p=t.placeholder,d=t.maxLength,h=t.error,y=t.showAsValid,b=t.ariaRequired,v=t.displayPolicy,g=t.isDirty,m=t.shouldDisableField,w="object"!==H(r)?r:function(){return null},O=u||o;return Object(n.b)("div",{className:"gsf-holder",style:"".concat(this.isHideableField()&&v===s.U?"display: none":"display: block")},Object(n.b)("input",{ref:this.handleFieldRef,id:O,"data-fieldtype":o,type:c?"tel":"text",inputmode:!c&&"numeric",maxlength:d,autocomplete:i,placeholder:p,"aria-label":a,"aria-invalid":!g||y?"false":"true","aria-required":b,"aria-describedby":f?null:"".concat(O,"-ariaError"),style:"display: block",className:"js-iframe-input input-field".concat(""!==h?" chckt-input-field--error js-chckt-input-field-error":"").concat(y&&g?" chckt-input-field--validated js-chckt-input-field-validated":""),"data-type":"gsf",readonly:m}),"components"!==l&&!u&&Object(n.b)("span",{"aria-live":"polite",className:"aria-error",id:"".concat(O,"-ariaError")},h),Object(n.b)(w,null))}}])&&N(t.prototype,r),o&&N(t,o),Object.defineProperty(t,"prototype",{writable:!1}),c}(K);J(q,"defaultProps",{placeholder:s.C,ariaLabel:s.x,maxLength:2,encryptionName:"generic"});t.a=q},function(e,t,r){"use strict";r.d(t,"a",(function(){return Yt})),r.d(t,"c",(function(){return rt})),r.d(t,"b",(function(){return n}));var n={};r.r(n),r.d(n,"encode",(function(){return Xt})),r.d(n,"decode",(function(){return Qt}));var o=crypto,i=function(e){return e instanceof CryptoKey};function a(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}var c=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="SHA-".concat(t.slice(-3)),e.t0=Uint8Array,e.next=4,o.subtle.digest(n,r);case 4:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 6:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,u,"next",e)}function u(e){a(i,n,o,c,u,"throw",e)}c(void 0)}))});return function(e,r){return t.apply(this,arguments)}}();function u(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function s(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){u(i,n,o,a,c,"next",e)}function c(e){u(i,n,o,a,c,"throw",e)}a(void 0)}))}}var l=new TextEncoder,f=new TextDecoder,p=Math.pow(2,32);function d(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.reduce((function(e,t){return e+t.length}),0),o=new Uint8Array(n),i=0;return t.forEach((function(e){o.set(e,i),i+=e.length})),o}function h(e,t){return d(l.encode(e),new Uint8Array([0]),t)}function y(e,t,r){if(t<0||t>=p)throw new RangeError("value must be >= 0 and <= ".concat(p-1,". Received ").concat(t));e.set([t>>>24,t>>>16,t>>>8,255&t],r)}function b(e){var t=Math.floor(e/p),r=e%p,n=new Uint8Array(8);return y(n,t,0),y(n,r,4),n}function v(e){var t=new Uint8Array(4);return y(t,e),t}function g(e){return d(v(e.length),e)}function m(e,t,r){return w.apply(this,arguments)}function w(){return(w=s(regeneratorRuntime.mark((function e(t,r,n){var o,i,a,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:o=Math.ceil((r>>3)/32),i=new Uint8Array(32*o),a=0;case 3:if(!(a<o)){e.next=17;break}return(u=new Uint8Array(4+t.length+n.length)).set(v(a+1)),u.set(t,4),u.set(n,4+t.length),e.t0=i,e.next=11,c("sha256",u);case 11:e.t1=e.sent,e.t2=32*a,e.t0.set.call(e.t0,e.t1,e.t2);case 14:a++,e.next=3;break;case 17:return e.abrupt("return",i.slice(0,r>>3));case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O=function(e){var t=e;"string"==typeof t&&(t=l.encode(t));for(var r=[],n=0;n<t.length;n+=32768)r.push(String.fromCharCode.apply(null,t.subarray(n,n+32768)));return btoa(r.join(""))},_=function(e){return O(e).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")},j=function(e){for(var t=atob(e),r=new Uint8Array(t.length),n=0;n<t.length;n++)r[n]=t.charCodeAt(n);return r},P=function(e){var t=e;t instanceof Uint8Array&&(t=f.decode(t)),t=t.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return j(t)}catch(e){throw new TypeError("The input to be decoded is not correctly encoded.")}};function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function k(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function C(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function E(e,t,r){return t&&C(e.prototype,t),r&&C(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}function x(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&K(e,t)}function A(e){var t=L();return function(){var r,n=M(e);if(t){var o=M(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return R(this,r)}}function R(e,t){if(t&&("object"===S(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return T(e)}function T(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function D(e){var t="function"==typeof Map?new Map:void 0;return(D=function(e){if(null===e||(r=e,-1===Function.toString.call(r).indexOf("[native code]")))return e;var r;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return I(e,arguments,M(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),K(n,e)})(e)}function I(e,t,r){return(I=L()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);var o=new(Function.bind.apply(e,n));return r&&K(o,r.prototype),o}).apply(null,arguments)}function L(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function K(e,t){return(K=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function M(e){return(M=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var F=function(e){x(r,e);var t=A(r);function r(e){var n,o;return k(this,r),(n=t.call(this,e)).code="ERR_JOSE_GENERIC",n.name=n.constructor.name,null===(o=Error.captureStackTrace)||void 0===o||o.call(Error,T(n),n.constructor),n}return E(r,null,[{key:"code",get:function(){return"ERR_JOSE_GENERIC"}}]),r}(D(Error)),B=function(e){x(r,e);var t=A(r);function r(){var e;return k(this,r),(e=t.apply(this,arguments)).code="ERR_JOSE_NOT_SUPPORTED",e}return E(r,null,[{key:"code",get:function(){return"ERR_JOSE_NOT_SUPPORTED"}}]),r}(F),H=function(e){x(r,e);var t=A(r);function r(){var e;return k(this,r),(e=t.apply(this,arguments)).code="ERR_JWE_INVALID",e}return E(r,null,[{key:"code",get:function(){return"ERR_JWE_INVALID"}}]),r}(F),N=o.getRandomValues.bind(o);function V(e){switch(e){case"A128GCM":case"A128GCMKW":case"A192GCM":case"A192GCMKW":case"A256GCM":case"A256GCMKW":return 96;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":return 128;default:throw new B("Unsupported JWE Algorithm: ".concat(e))}}var U=function(e){return N(new Uint8Array(V(e)>>3))},W=function(e,t){if(t.length<<3!==V(e))throw new H("Invalid Initialization Vector length")},G=function(e,t){if(e.length<<3!==t)throw new H("Invalid Content Encryption Key length")},$=r(5);function J(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"algorithm.name";return new TypeError("CryptoKey does not support this operation, its ".concat(t," must be ").concat(e))}function q(e,t){return e.name===t}function z(e){return parseInt(e.name.slice(4),10)}function Y(e,t){if(t.length&&!t.some((function(t){return e.usages.includes(t)}))){var r="CryptoKey does not support this operation, its usages must include ";if(t.length>2){var n=t.pop();r+="one of ".concat(t.join(", "),", or ").concat(n,".")}else 2===t.length?r+="one of ".concat(t[0]," or ").concat(t[1],"."):r+="".concat(t[0],".");throw new TypeError(r)}}function X(e,t){switch(t){case"A128GCM":case"A192GCM":case"A256GCM":if(!q(e.algorithm,"AES-GCM"))throw J("AES-GCM");var r=parseInt(t.slice(1,4),10),n=e.algorithm.length;if(n!==r)throw J(r,"algorithm.length");break;case"A128KW":case"A192KW":case"A256KW":if(!q(e.algorithm,"AES-KW"))throw J("AES-KW");var o=parseInt(t.slice(1,4),10),i=e.algorithm.length;if(i!==o)throw J(o,"algorithm.length");break;case"ECDH":if(!q(e.algorithm,"ECDH"))throw J("ECDH");break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":if(!q(e.algorithm,"PBKDF2"))throw J("PBKDF2");break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":if(!q(e.algorithm,"RSA-OAEP"))throw J("RSA-OAEP");var a=parseInt(t.slice(9),10)||1,c=z(e.algorithm.hash);if(c!==a)throw J("SHA-".concat(a),"algorithm.hash");break;default:throw new TypeError("CryptoKey does not support this operation")}for(var u=arguments.length,s=new Array(u>2?u-2:0),l=2;l<u;l++)s[l-2]=arguments[l];Y(e,s)}function Q(e){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var Z=function(e){for(var t="Key must be ",r=arguments.length,n=new Array(r>1?r-1:0),o=1;o<r;o++)n[o-1]=arguments[o];if(n.length>2){var i=n.pop();t+="one of type ".concat(n.join(", "),", or ").concat(i,".")}else 2===n.length?t+="one of type ".concat(n[0]," or ").concat(n[1],"."):t+="of type ".concat(n[0],".");return null==e?t+=" Received ".concat(e):"function"==typeof e&&e.name?t+=" Received function ".concat(e.name):"object"===Q(e)&&null!=e&&e.constructor&&e.constructor.name&&(t+=" Received an instance of ".concat(e.constructor.name)),t},ee=function(e){return i(e)},te=["CryptoKey"];function re(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){re(i,n,o,a,c,"next",e)}function c(e){re(i,n,o,a,c,"throw",e)}a(void 0)}))}}var oe=function(){var e=ne(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:throw new B('JWE "zip" (Compression Algorithm) Header Parameter is not supported by your javascript runtime. You need to use the `deflateRaw` encrypt option to provide Deflate Raw implementation.');case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function ie(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ae(e,t)}(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var ce=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var n,o=t.filter(Boolean);if(0===o.length||1===o.length)return!0;var i,a=ie(o);try{for(a.s();!(i=a.n()).done;){var c=i.value,u=Object.keys(c);if(n&&0!==n.size)for(var s=0,l=u;s<l.length;s++){var f=l[s];if(n.has(f))return!1;n.add(f)}else n=new Set(u)}}catch(e){a.e(e)}finally{a.f()}return!0};function ue(e){return(ue="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function se(e){if("object"!==ue(t=e)||null===t||"[object Object]"!==Object.prototype.toString.call(e))return!1;var t;if(null===Object.getPrototypeOf(e))return!0;for(var r=e;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(e)===r}var le=[{hash:"SHA-256",name:"HMAC"},!0,["sign"]];function fe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function pe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){fe(i,n,o,a,c,"next",e)}function c(e){fe(i,n,o,a,c,"throw",e)}a(void 0)}))}}function de(e){return function(e){if(Array.isArray(e))return he(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return he(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return he(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function he(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function ye(e,t){if(e.algorithm.length!==parseInt(t.slice(1,4),10))throw new TypeError("Invalid key size for alg: ".concat(t))}function be(e,t,r){if(i(e))return X(e,t,r),e;if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"AES-KW",!0,[r]);throw new TypeError(Z.apply(void 0,[e].concat(de(te),["Uint8Array"])))}var ve=function(){var e=pe(regeneratorRuntime.mark((function e(t,r,n){var i,a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,be(r,t,"wrapKey");case 2:return ye(a=e.sent,t),e.next=6,(i=o.subtle).importKey.apply(i,["raw",n].concat(de(le)));case 6:return c=e.sent,e.t0=Uint8Array,e.next=10,o.subtle.wrapKey("raw",c,a,"AES-KW");case 10:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 12:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function ge(e){return function(e){if(Array.isArray(e))return me(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return me(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return me(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function we(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Oe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){we(i,n,o,a,c,"next",e)}function c(e){we(i,n,o,a,c,"throw",e)}a(void 0)}))}}function _e(e,t,r,n){return je.apply(this,arguments)}function je(){return(je=Oe(regeneratorRuntime.mark((function e(t,r,n,a){var c,u,s,f,p=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c=p.length>4&&void 0!==p[4]?p[4]:new Uint8Array(0),u=p.length>5&&void 0!==p[5]?p[5]:new Uint8Array(0),i(t)){e.next=4;break}throw new TypeError(Z.apply(void 0,[t].concat(ge(te))));case 4:if(X(t,"ECDH"),i(r)){e.next=7;break}throw new TypeError(Z.apply(void 0,[r].concat(ge(te))));case 7:return X(r,"ECDH","deriveBits"),s=d(g(l.encode(n)),g(c),g(u),v(a)),e.t0=Uint8Array,e.next=12,o.subtle.deriveBits({name:"ECDH",public:t},r,Math.ceil(parseInt(r.algorithm.namedCurve.slice(-3),10)/8)<<3);case 12:return e.t1=e.sent,f=new e.t0(e.t1),e.abrupt("return",m(f,a,s));case 15:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pe(e){return Se.apply(this,arguments)}function Se(){return(Se=Oe(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(t)){e.next=2;break}throw new TypeError(Z.apply(void 0,[t].concat(ge(te))));case 2:return e.abrupt("return",o.subtle.generateKey(t.algorithm,!0,["deriveBits"]));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ke(e){if(!i(e))throw new TypeError(Z.apply(void 0,[e].concat(ge(te))));return["P-256","P-384","P-521"].includes(e.algorithm.namedCurve)}function Ce(e){if(!(e instanceof Uint8Array)||e.length<8)throw new H("PBES2 Salt Input must be 8 or more octets")}function Ee(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function xe(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Ee(i,n,o,a,c,"next",e)}function c(e){Ee(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Ae(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Re(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Re(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Te(e,t){if(e instanceof Uint8Array)return o.subtle.importKey("raw",e,"PBKDF2",!1,["deriveBits"]);if(i(e))return X(e,t,"deriveBits","deriveKey"),e;throw new TypeError(Z.apply(void 0,[e].concat(Ae(te),["Uint8Array"])))}function De(e,t,r,n){return Ie.apply(this,arguments)}function Ie(){return(Ie=xe(regeneratorRuntime.mark((function e(t,r,n,i){var a,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Ce(t),a=h(r,t),c=parseInt(r.slice(13,16),10),u={hash:"SHA-".concat(r.slice(8,11)),iterations:n,name:"PBKDF2",salt:a},s={length:c,name:"AES-KW"},e.next=7,Te(i,r);case 7:if(!(l=e.sent).usages.includes("deriveBits")){e.next=14;break}return e.t0=Uint8Array,e.next=12,o.subtle.deriveBits(u,l,c);case 12:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 14:if(!l.usages.includes("deriveKey")){e.next=16;break}return e.abrupt("return",o.subtle.deriveKey(u,l,s,!1,["wrapKey","unwrapKey"]));case 16:throw new TypeError('PBKDF2 key "usages" must include "deriveBits" or "deriveKey"');case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Le=function(){var e=xe(regeneratorRuntime.mark((function e(t,r,n){var o,i,a,c,u=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:2048,i=u.length>4&&void 0!==u[4]?u[4]:N(new Uint8Array(16)),e.next=4,De(i,t,o,r);case 4:return a=e.sent,e.next=7,ve(t.slice(-6),a,n);case 7:return c=e.sent,e.abrupt("return",{encryptedKey:c,p2c:o,p2s:_(i)});case 9:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function Ke(e){switch(e){case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":return"RSA-OAEP";default:throw new B("alg ".concat(e," is not supported either by JOSE or your javascript runtime"))}}var Me=function(e,t){if(e.startsWith("RS")||e.startsWith("PS")){var r=t.algorithm.modulusLength;if("number"!=typeof r||r<2048)throw new TypeError("".concat(e," requires key modulusLength to be 2048 bits or larger"))}};function Fe(e){return function(e){if(Array.isArray(e))return Be(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Be(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Be(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Be(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function He(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ne(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){He(i,n,o,a,c,"next",e)}function c(e){He(i,n,o,a,c,"throw",e)}a(void 0)}))}}var Ve=function(){var e=Ne(regeneratorRuntime.mark((function e(t,r,n){var a,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(r)){e.next=2;break}throw new TypeError(Z.apply(void 0,[r].concat(Fe(te))));case 2:if(X(r,t,"encrypt","wrapKey"),Me(t,r),!r.usages.includes("encrypt")){e.next=10;break}return e.t0=Uint8Array,e.next=8,o.subtle.encrypt(Ke(t),r,n);case 8:return e.t1=e.sent,e.abrupt("return",new e.t0(e.t1));case 10:if(!r.usages.includes("wrapKey")){e.next=19;break}return e.next=13,(a=o.subtle).importKey.apply(a,["raw",n].concat(Fe(le)));case 13:return c=e.sent,e.t2=Uint8Array,e.next=17,o.subtle.wrapKey("raw",c,r,Ke(t));case 17:return e.t3=e.sent,e.abrupt("return",new e.t2(e.t3));case 19:throw new TypeError('RSA-OAEP key "usages" must include "encrypt" or "wrapKey" for this operation');case 20:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}();function Ue(e){switch(e){case"A128GCM":return 128;case"A192GCM":return 192;case"A256GCM":case"A128CBC-HS256":return 256;case"A192CBC-HS384":return 384;case"A256CBC-HS512":return 512;default:throw new B("Unsupported JWE Algorithm: ".concat(e))}}var We=function(e){return N(new Uint8Array(Ue(e)>>3))};function Ge(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function $e(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ge(Object(r),!0).forEach((function(t){Je(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ge(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Je(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function qe(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function ze(e){var t,r;switch(e.kty){case"oct":switch(e.alg){case"HS256":case"HS384":case"HS512":t={name:"HMAC",hash:"SHA-".concat(e.alg.slice(-3))},r=["sign","verify"];break;case"A128CBC-HS256":case"A192CBC-HS384":case"A256CBC-HS512":throw new B("".concat(e.alg," keys cannot be imported as CryptoKey instances"));case"A128GCM":case"A192GCM":case"A256GCM":case"A128GCMKW":case"A192GCMKW":case"A256GCMKW":t={name:"AES-GCM"},r=["encrypt","decrypt"];break;case"A128KW":case"A192KW":case"A256KW":t={name:"AES-KW"},r=["wrapKey","unwrapKey"];break;case"PBES2-HS256+A128KW":case"PBES2-HS384+A192KW":case"PBES2-HS512+A256KW":t={name:"PBKDF2"},r=["deriveBits"];break;default:throw new B('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"RSA":switch(e.alg){case"PS256":case"PS384":case"PS512":t={name:"RSA-PSS",hash:"SHA-".concat(e.alg.slice(-3))},r=e.d?["sign"]:["verify"];break;case"RS256":case"RS384":case"RS512":t={name:"RSASSA-PKCS1-v1_5",hash:"SHA-".concat(e.alg.slice(-3))},r=e.d?["sign"]:["verify"];break;case"RSA-OAEP":case"RSA-OAEP-256":case"RSA-OAEP-384":case"RSA-OAEP-512":t={name:"RSA-OAEP",hash:"SHA-".concat(parseInt(e.alg.slice(-3),10)||1)},r=e.d?["decrypt","unwrapKey"]:["encrypt","wrapKey"];break;default:throw new B('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case"EC":switch(e.alg){case"ES256":t={name:"ECDSA",namedCurve:"P-256"},r=e.d?["sign"]:["verify"];break;case"ES384":t={name:"ECDSA",namedCurve:"P-384"},r=e.d?["sign"]:["verify"];break;case"ES512":t={name:"ECDSA",namedCurve:"P-521"},r=e.d?["sign"]:["verify"];break;case"ECDH-ES":case"ECDH-ES+A128KW":case"ECDH-ES+A192KW":case"ECDH-ES+A256KW":t={name:"ECDH",namedCurve:e.crv},r=e.d?["deriveBits"]:[];break;default:throw new B('Invalid or unsupported JWK "alg" (Algorithm) Parameter value')}break;case(Object($.a)()||Object($.b)())&&"OKP":if("EdDSA"!==e.alg)throw new B('Invalid or unsupported JWK "alg" (Algorithm) Parameter value');switch(e.crv){case"Ed25519":t={name:"NODE-ED25519",namedCurve:"NODE-ED25519"},r=e.d?["sign"]:["verify"];break;case Object($.b)()&&"Ed448":t={name:"NODE-ED448",namedCurve:"NODE-ED448"},r=e.d?["sign"]:["verify"];break;default:throw new B('Invalid or unsupported JWK "crv" (Subtype of Key Pair) Parameter value')}break;default:throw new B('Invalid or unsupported JWK "kty" (Key Type) Parameter value')}return{algorithm:t,keyUsages:r}}var Ye=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n,i,a,c,u,s,l,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=ze(t),c=a.algorithm,u=a.keyUsages,s=[c,null!==(n=t.ext)&&void 0!==n&&n,null!==(i=t.key_ops)&&void 0!==i?i:u],"PBKDF2"!==c.name){e.next=4;break}return e.abrupt("return",(l=o.subtle).importKey.apply(l,["raw",P(t.k)].concat(s)));case 4:return delete(f=$e({},t)).alg,e.abrupt("return",(r=o.subtle).importKey.apply(r,["jwk",f].concat(s)));case 7:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){qe(i,n,o,a,c,"next",e)}function c(e){qe(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function Xe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Qe(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Xe(Object(r),!0).forEach((function(t){Ze(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Xe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ze(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function et(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function tt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){et(i,n,o,a,c,"next",e)}function c(e){et(i,n,o,a,c,"throw",e)}a(void 0)}))}}function rt(e,t,r){return nt.apply(this,arguments)}function nt(){return(nt=tt(regeneratorRuntime.mark((function e(t,r,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(se(t)){e.next=2;break}throw new TypeError("JWK must be an object");case 2:if(r||(r=t.alg),"string"==typeof r&&r){e.next=5;break}throw new TypeError('"alg" argument is required when "jwk.alg" is not present');case 5:e.t0=t.kty,e.next="oct"===e.t0?8:"RSA"===e.t0?14:"EC"===e.t0||"OKP"===e.t0?16:17;break;case 8:if("string"==typeof t.k&&t.k){e.next=10;break}throw new TypeError('missing "k" (Key Value) Parameter value');case 10:if(null!=n||(n=!0!==t.ext),!n){e.next=13;break}return e.abrupt("return",Ye(Qe(Qe({},t),{},{alg:r,ext:!1})));case 13:return e.abrupt("return",P(t.k));case 14:if(void 0===t.oth){e.next=16;break}throw new B('RSA JWK "oth" (Other Primes Info) Parameter value is not supported');case 16:return e.abrupt("return",Ye(Qe(Qe({},t),{},{alg:r})));case 17:throw new B('Unsupported "kty" (Key Type) Parameter value');case 18:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ot(e){return function(e){if(Array.isArray(e))return it(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return it(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return it(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function it(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var at=function(e,t,r){e.startsWith("HS")||"dir"===e||e.startsWith("PBES2")||/^A\d{3}(?:GCM)?KW$/.test(e)?function(e){if(!(e instanceof Uint8Array)){if(!ee(e))throw new TypeError(Z.apply(void 0,[e].concat(ot(te),["Uint8Array"])));if("secret"!==e.type)throw new TypeError("".concat(te.join(" or "),' instances for symmetric algorithms must be of type "secret"'))}}(t):function(e,t){if(!ee(e))throw new TypeError(Z.apply(void 0,[e].concat(ot(te))));if("secret"===e.type)throw new TypeError("".concat(te.join(" or "),' instances for asymmetric algorithms must not be of type "secret"'));if("sign"===t&&"public"===e.type)throw new TypeError("".concat(te.join(" or "),' instances for asymmetric algorithm signing must be of type "private"'));if("decrypt"===t&&"public"===e.type)throw new TypeError("".concat(te.join(" or "),' instances for asymmetric algorithm decryption must be of type "private"'));if(e.algorithm&&"verify"===t&&"private"===e.type)throw new TypeError("".concat(te.join(" or "),' instances for asymmetric algorithm verifying must be of type "public"'));if(e.algorithm&&"encrypt"===t&&"private"===e.type)throw new TypeError("".concat(te.join(" or "),' instances for asymmetric algorithm encryption must be of type "public"'))}(t,r)};function ct(e){return function(e){if(Array.isArray(e))return ut(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return ut(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return ut(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ut(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function st(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function lt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){st(i,n,o,a,c,"next",e)}function c(e){st(i,n,o,a,c,"throw",e)}a(void 0)}))}}function ft(e,t,r,n,o){return pt.apply(this,arguments)}function pt(){return(pt=lt(regeneratorRuntime.mark((function e(t,r,n,i,a){var c,u,s,l,f,p;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n instanceof Uint8Array){e.next=2;break}throw new TypeError(Z(n,"Uint8Array"));case 2:return c=parseInt(t.slice(1,4),10),e.next=5,o.subtle.importKey("raw",n.subarray(c>>3),"AES-CBC",!1,["encrypt"]);case 5:return u=e.sent,e.next=8,o.subtle.importKey("raw",n.subarray(0,c>>3),{hash:"SHA-".concat(c<<1),name:"HMAC"},!1,["sign"]);case 8:return s=e.sent,e.t0=Uint8Array,e.next=12,o.subtle.encrypt({iv:i,name:"AES-CBC"},u,r);case 12:return e.t1=e.sent,l=new e.t0(e.t1),f=d(a,i,l,b(a.length<<3)),e.t2=Uint8Array,e.next=18,o.subtle.sign("HMAC",s,f);case 18:return e.t3=e.sent.slice(0,c>>3),p=new e.t2(e.t3),e.abrupt("return",{ciphertext:l,tag:p});case 21:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function dt(e,t,r,n,o){return ht.apply(this,arguments)}function ht(){return(ht=lt(regeneratorRuntime.mark((function e(t,r,n,i,a){var c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(n instanceof Uint8Array)){e.next=6;break}return e.next=3,o.subtle.importKey("raw",n,"AES-GCM",!1,["encrypt"]);case 3:c=e.sent,e.next=8;break;case 6:X(n,t,"encrypt"),c=n;case 8:return e.t0=Uint8Array,e.next=11,o.subtle.encrypt({additionalData:a,iv:i,name:"AES-GCM",tagLength:128},c,r);case 11:return e.t1=e.sent,u=new e.t0(e.t1),s=u.slice(-16),l=u.slice(0,-16),e.abrupt("return",{ciphertext:l,tag:s});case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yt=function(){var e=lt(regeneratorRuntime.mark((function e(t,r,n,o,a){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i(n)||n instanceof Uint8Array){e.next=2;break}throw new TypeError(Z.apply(void 0,[n].concat(ct(te),["Uint8Array"])));case 2:W(t,o),e.t0=t,e.next="A128CBC-HS256"===e.t0||"A192CBC-HS384"===e.t0||"A256CBC-HS512"===e.t0?6:"A128GCM"===e.t0||"A192GCM"===e.t0||"A256GCM"===e.t0?8:10;break;case 6:return n instanceof Uint8Array&&G(n,parseInt(t.slice(-3),10)),e.abrupt("return",ft(t,r,n,o,a));case 8:return n instanceof Uint8Array&&G(n,parseInt(t.slice(1,4),10)),e.abrupt("return",dt(t,r,n,o,a));case 10:throw new B("Unsupported JWE Content Encryption Algorithm");case 11:case"end":return e.stop()}}),e)})));return function(t,r,n,o,i){return e.apply(this,arguments)}}();function bt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function vt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){bt(i,n,o,a,c,"next",e)}function c(e){bt(i,n,o,a,c,"throw",e)}a(void 0)}))}}function gt(e,t,r,n){return mt.apply(this,arguments)}function mt(){return(mt=vt(regeneratorRuntime.mark((function e(t,r,n,o){var i,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.slice(0,7),o||(o=U(i)),e.next=4,yt(i,n,r,o,new Uint8Array(0));case 4:return a=e.sent,c=a.ciphertext,u=a.tag,e.abrupt("return",{encryptedKey:c,iv:_(o),tag:_(u)});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(e){return function(e){if(Array.isArray(e))return _t(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||Ot(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ot(e,t){if(e){if("string"==typeof e)return _t(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_t(e,t):void 0}}function _t(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}var jt=function(e,t,r,n,o){if(void 0!==o.crit&&void 0===n.crit)throw new e('"crit" (Critical) Header Parameter MUST be integrity protected');if(!n||void 0===n.crit)return new Set;if(!Array.isArray(n.crit)||0===n.crit.length||n.crit.some((function(e){return"string"!=typeof e||0===e.length})))throw new e('"crit" (Critical) Header Parameter MUST be an array of non-empty strings when present');var i;i=void 0!==r?new Map([].concat(wt(Object.entries(r)),wt(t.entries()))):t;var a,c=function(e,t){var r="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=Ot(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var n=0,o=function(){};return{s:o,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(e){throw e},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,a=!0,c=!1;return{s:function(){r=r.call(e)},n:function(){var e=r.next();return a=e.done,e},e:function(e){c=!0,i=e},f:function(){try{a||null==r.return||r.return()}finally{if(c)throw i}}}}(n.crit);try{for(c.s();!(a=c.n()).done;){var u=a.value;if(!i.has(u))throw new B('Extension Header Parameter "'.concat(u,'" is not recognized'));if(void 0===o[u])throw new e('Extension Header Parameter "'.concat(u,'" is missing'));if(i.get(u)&&void 0===n[u])throw new e('Extension Header Parameter "'.concat(u,'" MUST be integrity protected'))}}catch(e){c.e(e)}finally{c.f()}return new Set(n.crit)};var Pt=["ext","key_ops","alg","use"];function St(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function kt(e){return function(e){if(Array.isArray(e))return Ct(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return Ct(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Ct(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ct(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function Et(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}var xt=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t instanceof Uint8Array)){e.next=2;break}return e.abrupt("return",{kty:"oct",k:_(t)});case 2:if(i(t)){e.next=4;break}throw new TypeError(Z.apply(void 0,[t].concat(kt(te),["Uint8Array"])));case 4:if(t.extractable){e.next=6;break}throw new TypeError("non-extractable CryptoKey cannot be exported as a JWK");case 6:return e.next=8,o.subtle.exportKey("jwk",t);case 8:return(r=e.sent).ext,r.key_ops,r.alg,r.use,n=St(r,Pt),e.abrupt("return",n);case 15:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Et(i,n,o,a,c,"next",e)}function c(e){Et(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();function At(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Rt(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){At(i,n,o,a,c,"next",e)}function c(e){At(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Tt(e){return Dt.apply(this,arguments)}function Dt(){return(Dt=Rt(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xt(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var It=["encryptedKey"],Lt=["encryptedKey"];function Kt(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Mt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Ft(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){Mt(i,n,o,a,c,"next",e)}function c(e){Mt(i,n,o,a,c,"throw",e)}a(void 0)}))}}function Bt(){return(Bt=Ft(regeneratorRuntime.mark((function e(t,r,n,o){var i,a,c,u,s,l,f,p,d,h,y,b,v,g,m,w,O,j,P,S=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=S.length>4&&void 0!==S[4]?S[4]:{},at(t,n,"encrypt"),e.t0=t,e.next="dir"===e.t0?5:"ECDH-ES"===e.t0||"ECDH-ES+A128KW"===e.t0||"ECDH-ES+A192KW"===e.t0||"ECDH-ES+A256KW"===e.t0?7:"RSA1_5"===e.t0||"RSA-OAEP"===e.t0||"RSA-OAEP-256"===e.t0||"RSA-OAEP-384"===e.t0||"RSA-OAEP-512"===e.t0?39:"PBES2-HS256+A128KW"===e.t0||"PBES2-HS384+A192KW"===e.t0||"PBES2-HS512+A256KW"===e.t0?44:"A128KW"===e.t0||"A192KW"===e.t0||"A256KW"===e.t0?53:"A128GCMKW"===e.t0||"A192GCMKW"===e.t0||"A256GCMKW"===e.t0?58:67;break;case 5:return u=n,e.abrupt("break",68);case 7:if(ke(n)){e.next=9;break}throw new B("ECDH with the provided key is not allowed or not supported by your javascript runtime");case 9:if(s=i.apu,l=i.apv,f=i.epk,e.t1=f,e.t1){e.next=16;break}return e.next=15,Pe(n);case 15:f=e.sent.privateKey;case 16:return e.next=18,Tt(f);case 18:return p=e.sent,d=p.x,h=p.y,y=p.crv,b=p.kty,e.next=25,_e(n,f,"ECDH-ES"===t?r:t,"ECDH-ES"===t?Ue(r):parseInt(t.slice(-5,-2),10),s,l);case 25:if(v=e.sent,c={epk:{x:d,crv:y,kty:b}},"EC"===b&&(c.epk.y=h),s&&(c.apu=_(s)),l&&(c.apv=_(l)),"ECDH-ES"!==t){e.next=33;break}return u=v,e.abrupt("break",68);case 33:return u=o||We(r),g=t.slice(-6),e.next=37,ve(g,v,u);case 37:return a=e.sent,e.abrupt("break",68);case 39:return u=o||We(r),e.next=42,Ve(t,n,u);case 42:return a=e.sent,e.abrupt("break",68);case 44:return u=o||We(r),m=i.p2c,w=i.p2s,e.next=48,Le(t,n,u,m,w);case 48:return O=e.sent,a=O.encryptedKey,c=Kt(O,It),e.abrupt("break",68);case 53:return u=o||We(r),e.next=56,ve(t,n,u);case 56:return a=e.sent,e.abrupt("break",68);case 58:return u=o||We(r),j=i.iv,e.next=62,gt(t,n,u,j);case 62:return P=e.sent,a=P.encryptedKey,c=Kt(P,Lt),e.abrupt("break",68);case 67:throw new B('Invalid or unsupported "alg" (JWE Algorithm) header value');case 68:return e.abrupt("return",{cek:u,encryptedKey:a,parameters:c});case 69:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ht=function(e,t,r,n){return Bt.apply(this,arguments)};function Nt(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Vt(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Nt(Object(r),!0).forEach((function(t){Ut(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Nt(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function Ut(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Wt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function Gt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var $t=Symbol(),Jt=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),!(t instanceof Uint8Array))throw new TypeError("plaintext must be an instance of Uint8Array");this._plaintext=t}var t,r,n,o,i;return t=e,(r=[{key:"setKeyManagementParameters",value:function(e){if(this._keyManagementParameters)throw new TypeError("setKeyManagementParameters can only be called once");return this._keyManagementParameters=e,this}},{key:"setProtectedHeader",value:function(e){if(this._protectedHeader)throw new TypeError("setProtectedHeader can only be called once");return this._protectedHeader=e,this}},{key:"setSharedUnprotectedHeader",value:function(e){if(this._sharedUnprotectedHeader)throw new TypeError("setSharedUnprotectedHeader can only be called once");return this._sharedUnprotectedHeader=e,this}},{key:"setUnprotectedHeader",value:function(e){if(this._unprotectedHeader)throw new TypeError("setUnprotectedHeader can only be called once");return this._unprotectedHeader=e,this}},{key:"setAdditionalAuthenticatedData",value:function(e){return this._aad=e,this}},{key:"setContentEncryptionKey",value:function(e){if(this._cek)throw new TypeError("setContentEncryptionKey can only be called once");return this._cek=e,this}},{key:"setInitializationVector",value:function(e){if(this._iv)throw new TypeError("setInitializationVector can only be called once");return this._iv=e,this}},{key:"encrypt",value:(o=regeneratorRuntime.mark((function e(t,r){var n,o,i,a,c,u,s,p,h,y,b,v,g,m,w,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._protectedHeader||this._unprotectedHeader||this._sharedUnprotectedHeader){e.next=2;break}throw new H("either setProtectedHeader, setUnprotectedHeader, or sharedUnprotectedHeader must be called before #encrypt()");case 2:if(ce(this._protectedHeader,this._unprotectedHeader,this._sharedUnprotectedHeader)){e.next=4;break}throw new H("JWE Protected, JWE Shared Unprotected and JWE Per-Recipient Header Parameter names must be disjoint");case 4:if(n=Vt(Vt(Vt({},this._protectedHeader),this._unprotectedHeader),this._sharedUnprotectedHeader),jt(H,new Map,null==r?void 0:r.crit,this._protectedHeader,n),void 0===n.zip){e.next=11;break}if(this._protectedHeader&&this._protectedHeader.zip){e.next=9;break}throw new H('JWE "zip" (Compression Algorithm) Header MUST be integrity protected');case 9:if("DEF"===n.zip){e.next=11;break}throw new B('Unsupported JWE "zip" (Compression Algorithm) Header Parameter value');case 11:if(o=n.alg,i=n.enc,"string"==typeof o&&o){e.next=14;break}throw new H('JWE "alg" (Algorithm) Header Parameter missing or invalid');case 14:if("string"==typeof i&&i){e.next=16;break}throw new H('JWE "enc" (Encryption Algorithm) Header Parameter missing or invalid');case 16:if("dir"!==o){e.next=21;break}if(!this._cek){e.next=19;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Encryption");case 19:e.next=24;break;case 21:if("ECDH-ES"!==o){e.next=24;break}if(!this._cek){e.next=24;break}throw new TypeError("setContentEncryptionKey cannot be called when using Direct Key Agreement");case 24:return e.next=26,Ht(o,i,t,this._cek,this._keyManagementParameters);case 26:if(s=e.sent,c=s.cek,a=s.encryptedKey,(u=s.parameters)&&(r&&$t in r?this._unprotectedHeader?this._unprotectedHeader=Vt(Vt({},this._unprotectedHeader),u):this.setUnprotectedHeader(u):this._protectedHeader?this._protectedHeader=Vt(Vt({},this._protectedHeader),u):this.setProtectedHeader(u)),this._iv||(this._iv=U(i)),h=this._protectedHeader?l.encode(_(JSON.stringify(this._protectedHeader))):l.encode(""),this._aad?(y=_(this._aad),p=d(h,l.encode("."),l.encode(y))):p=h,"DEF"!==n.zip){e.next=45;break}return e.next=37,((null==r?void 0:r.deflateRaw)||oe)(this._plaintext);case 37:return g=e.sent,e.next=40,yt(i,g,c,this._iv,p);case 40:m=e.sent,b=m.ciphertext,v=m.tag,e.next=51;break;case 45:return e.next=48,yt(i,this._plaintext,c,this._iv,p);case 48:w=e.sent,b=w.ciphertext,v=w.tag;case 51:return O={ciphertext:_(b),iv:_(this._iv),tag:_(v)},a&&(O.encrypted_key=_(a)),y&&(O.aad=y),this._protectedHeader&&(O.protected=f.decode(h)),this._sharedUnprotectedHeader&&(O.unprotected=this._sharedUnprotectedHeader),this._unprotectedHeader&&(O.header=this._unprotectedHeader),e.abrupt("return",O);case 58:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){Wt(i,r,n,a,c,"next",e)}function c(e){Wt(i,r,n,a,c,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&Gt(t.prototype,r),n&&Gt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();function qt(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function zt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}var Yt=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._flattened=new Jt(t)}var t,r,n,o,i;return t=e,(r=[{key:"setContentEncryptionKey",value:function(e){return this._flattened.setContentEncryptionKey(e),this}},{key:"setInitializationVector",value:function(e){return this._flattened.setInitializationVector(e),this}},{key:"setProtectedHeader",value:function(e){return this._flattened.setProtectedHeader(e),this}},{key:"setKeyManagementParameters",value:function(e){return this._flattened.setKeyManagementParameters(e),this}},{key:"encrypt",value:(o=regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._flattened.encrypt(t,r);case 2:return n=e.sent,e.abrupt("return",[n.protected,n.encrypted_key,n.iv,n.ciphertext,n.tag].join("."));case 4:case"end":return e.stop()}}),e,this)})),i=function(){var e=this,t=arguments;return new Promise((function(r,n){var i=o.apply(e,t);function a(e){qt(i,r,n,a,c,"next",e)}function c(e){qt(i,r,n,a,c,"throw",e)}a(void 0)}))},function(e,t){return i.apply(this,arguments)})}])&&zt(t.prototype,r),n&&zt(t,n),Object.defineProperty(t,"prototype",{writable:!1}),e}();var Xt=_,Qt=P},function(e,t,r){"use strict";r.d(t,"a",(function(){return d}));var n=r(6),o=r(0),i=r(11);function a(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function c(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function c(e){a(i,n,o,c,u,"next",e)}function u(e){a(i,n,o,c,u,"throw",e)}c(void 0)}))}}var u=function(){var e=c(regeneratorRuntime.mark((function e(t,r){var n,a,c,u,s=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>2&&void 0!==s[2]?s[2]:o.Y,a=s.length>3&&void 0!==s[3]?s[3]:o.X,c=(new TextEncoder).encode(JSON.stringify(t)),e.next=5,new i.a(c).setProtectedHeader({alg:a,enc:n,version:o.Z}).encrypt(r).catch((function(e){console.warn("### encryptJWE:: encrypt error:: e=",e)}));case 5:return u=e.sent,e.abrupt("return",u);case 7:case"end":return e.stop()}}),e)})));return function(t,r){return e.apply(this,arguments)}}();function s(e,t){return l.apply(this,arguments)}function l(){return(l=c(regeneratorRuntime.mark((function e(t,r){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r){e.next=3;break}return console.warn("WARNING: No encryptionKey"),e.abrupt("return",null);case 3:return e.next=5,u(t,r);case 5:return n=e.sent,e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function f(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function p(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}var d=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,i,a,c,u,l,p,d,h,y,b,v,g,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.valToEncrypt,a=t.encryptionType,c=t.encryptionKey,u=t.encryptionName,l=t.fieldType,p=t.eventLogger,(d={}).type=a,d.action=o.e,h=s,f(r={},u,i),f(r,"generationtime",window.genTime),y=r,b=p?p.mergeLog(y):y,e.next=9,h(b,c);case 9:return v=e.sent,g=!!v,m=function(){var e=a;"month"!==a&&"year"!==a||(e="encryptedExpiry".concat(Object(n.a)(a)));var t=[];return t.push({type:a,encryptedFieldName:e,blob:v}),d[l]=t,d},e.abrupt("return",g?m():null);case 13:case"end":return e.stop()}}),e)})),function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){p(i,n,o,a,c,"next",e)}function c(e){p(i,n,o,a,c,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()},function(e,t,r){"use strict";r.d(t,"b",(function(){return a})),r.d(t,"a",(function(){return c}));var n,o,i=r(0);function a(e){return"amex"===e?n:o}function c(e,t){var r;return t&&(e!==i.D?Object.prototype.hasOwnProperty.call(t,e)&&(r=t[e].toString()):Object.prototype.hasOwnProperty.call(t,e)?r=t[e].toString():(o=t[i.G],n=t[i.H])),{placeholder:r}}},function(e,t,r){"use strict";var n=r(4),o=r(10),i=r(7),a=function(e,t,r){if(0===e||!t.length)return 0;var n=t.length-r.length,o=n>0,i=function(e,t){return/\s/.test(e.charAt(t))},a=e-n;return o&&(i(t,a+1)||i(t,a))?e+1:!o&&i(t,e-1)?e-1:e};var c=r(3),u=r(6),s=r(0),l=r(9),f=["fieldType","extraFieldData","placeholdersConfig"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function d(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function h(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?d(Object(r),!0).forEach((function(t){y(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):d(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function y(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function b(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function v(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function g(e,t,r){return t&&v(e.prototype,t),r&&v(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var m=g((function e(t,r,d,y){var v,g,m,w,O,_=t.fieldType,j=t.extraFieldData,P=t.placeholdersConfig,S=b(t,f);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var k="maxLength",C=h({},P),E=Object(c.c)(j,"maskInterval");+E&&(O=(O=+E)>0||!Number.isNaN(O)?O:null);var x=Object(c.c)(j,"length");if(x&&("number"==typeof x&&(m=(m=j.length)>0?m:null),"string"==typeof x)){var A=Object(u.i)(x),R=A.startVal,T=A.endVal,D=A.separatorStr;m=T,(w=R)&&m&&D.length&&(k=D.indexOf("|")>-1?"twoStops":"range")}O&&(g=Object(i.d)(O),m&&(m+=Object(i.a)(m,O)),w&&(w+=Object(i.a)(w,O)));var I=m||2;switch(_){case"encryptedCardNumber":v="giftCardNumber";break;case"encryptedSecurityCode":v="giftCardPin";break;default:v=Object(u.e)(_.substr(9))}var L=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"maxLength";return function(n){var o=n.unmaskedVal,i=!1,c=t||e,u=o,s=this.mask?this.mask(u):u,l=null;if(this.mask){var f=this.fieldRef.selectionStart,p=this.oldValue;l=a(f,s,p)}switch(r){case"range":s.length>=c&&s.length<=e&&(i=!0);break;case"twoStops":s.length!==c&&s.length!==e||(i=!0);break;default:s.length===e&&(i=!0)}return{newValue:s,isValidLength:i,commObj:{},error:"",newCursorPosition:l}}}(I,w,k);C[_]||(C[_]=O?g(s.C).substr(0,I):s.C.substr(0,I));var K=Object(l.a)(h({handleComponentRef:d,onChange:y,fieldType:_},S));return Object(n.b)(o.a,p({},K,{placeholdersConfig:C,description:"digits",encryptionName:v,mask:g,unmask:void 0,validate:L,maxLength:I,autoComplete:void 0,valToEncrypt:void 0}))}));t.a=m},function(e,t,r){"use strict";var n=r(4);function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function i(e,t,r){return t&&o(e.prototype,t),r&&o(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var a=i((function e(t,r){var o=t.fieldType;return function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),Object(n.b)("input",{className:"input-field",style:"display:block;color:red;",value:"Undefined SF type: ".concat(o),readOnly:!0})}));t.a=a},function(e,t,r){"use strict";var n=r(4),o=(window.console&&window.console.error&&window.console.error.bind(window.console),window.console&&window.console.info&&window.console.info.bind(window.console),window.console&&window.console.log&&window.console.log.bind(window.console),window.console&&window.console.warn&&window.console.warn.bind(window.console)),i=r(1),a=r(0);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var f,p={background:"background",caretColor:"caret-color",color:"color",display:"display",font:"font",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontSmoothing:"font-smoothing",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontVariantAlternates:"font-variant-alternates",fontVariantCaps:"font-variant-caps",fontVariantEastAsian:"font-variant-east-asian",fontVariantLigatures:"font-variant-ligatures",fontVariantNumeric:"font-variant-numeric",fontWeight:"font-weight",letterSpacing:"letter-spacing",lineHeight:"line-height",mozOsxFontSmoothing:"-moz-osx-font-smoothing",mozTransition:"moz-transition",outline:"outline",opacity:"opacity",padding:"padding",textAlign:"text-align",textShadow:"text-shadow",transition:"transition",webkitFontSmoothing:"-webkit-font-smoothing",webkitTransition:"webkit-transition",wordSpacing:"word-spacing"},d={base:".input-field",error:".chckt-input-field--error",validated:".chckt-input-field--validated",placeholder:{0:".input-field::placeholder",1:".input-field::-webkit-input-placeholder",2:".input-field:placeholder-shown"},"::msclear":{0:".input-field::ms-clear"}},h=function(e){return!function(e){var t=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,r=!1;for(var n in e)if(e.hasOwnProperty(n)){var o=e[n];if(o)for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];!0===t.test(a)&&(r=!0)}}return!0===r}(e)},y=function(e){return function(t){for(var r=Object.keys(t),n=0;n<r.length;n++){var o=r[n],i=[],a=Object.keys(t[o]),c=[];for(var u in t[o])t[o].hasOwnProperty(u)&&c.push(t[o][u]);for(var s=0;s<a.length;s++){var l=a[s],f=c[s],h=p[l];if(h){var y=h+":"+f+";";i.push(y)}}if(d[o]&&i){var b=i.join("");e(b,d[o],o)}}}},b=function(e){var t=document.createElement("style");return t.setAttribute("data-styling-key",e),t.appendChild(document.createTextNode("")),document.head.appendChild(t),t.sheet},v=function(e,t,r){if("object"===l(t)){for(var n in t)if(t[n]&&e.insertRule)try{e.insertRule(t[n]+" {"+r+"}",0)}catch(e){}}else if(e.insertRule)try{e.insertRule(t+"{"+r+"}",0)}catch(e){}},g=y((function(e,t,r){var n=b(r);v(n,t,e)})),m=y((function(e,t,r){var n=w(r);n?O(n):n=b(r),v(n,t,e)})),w=function(e){var t=Object(i.c)(document,'[data-styling-key="'+e+'"]');return t?t.sheet:null},O=function(e){for(var t=e.cssRules.length,r=0;r<t;r++)e.deleteRule(0)},_=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t={base:u(u({},a.nb.base),e.base),placeholder:u(u({},a.nb.placeholder),e.placeholder),validated:u(u({},a.nb.validated),e.validated),error:u(u({},a.nb.error),e.error)};f=h(t)?t:u({},a.nb),g(f)},j=function(e){var t={base:u(u({},f.base),e.base),placeholder:u(u({},f.placeholder),e.placeholder),validated:u(u({},f.validated),e.validated),error:u(u({},f.error),e.error)};h(t)&&m(f=t)},P=r(3),S=r(11);function k(e){if(!e)return new Uint8Array(0);e.length%2==1&&(e="0"+e);for(var t=e.length/2,r=new Uint8Array(t),n=0;n<t;n++)r[n]=parseInt(e.substr(2*n,2),16);return r}function C(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function E(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){C(i,n,o,a,c,"next",e)}function c(e){C(i,n,o,a,c,"throw",e)}a(void 0)}))}}function x(e){return A.apply(this,arguments)}function A(){return(A=E(regeneratorRuntime.mark((function e(t){var r,n,o,i,a,c,u,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(2===(r=t.split("|")).length){e.next=3;break}throw new Error("Malformed public key: type 1");case 3:return n=r[0],o=r[1],i=k(n),a=k(o),c=S.b.encode(i),u=S.b.encode(a),s={kty:"RSA",kid:"asf-key",e:c,n:u},e.next=12,S.c(s,"RSA-OAEP");case 12:if(2048===(l=e.sent).algorithm.modulusLength){e.next=15;break}throw new Error("Malformed public key: type 2");case 15:return e.abrupt("return",l);case 16:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function R(e){var t,r=this,n=e.txVariant;this.txVariant=n,this.props.fieldType=e.fieldType,window.sfConfigLog.type=this.props.fieldType,this.props.extraFieldData=null;try{this.props.extraFieldData=JSON.parse(e.extraFieldData)}catch(e){}if(this.props.numKey=e.numKey,this.props.legacyInputMode=e.legacyInputMode,this.props.uniqueIdFromLabel=e.uid,e.isCreditCardType&&(t=function(e,t){var r=e,n=t.slice(),o="",i=!1,a="card"===r,c=a&&1===n.length;return a&&!c||(c&&(r=n[0]),n=[r],o=r,i=!0),{cardGroupTypes:n,cardBrand:o,isSingleBrandedCard:i}}(n,e.cardGroupTypes),this.props.trimTrailingSeparator=!(!1===e.trimTrailingSeparator),this.props.isSingleBrandedCard=t.isSingleBrandedCard,this.props.cardBrand=t.cardBrand,this.props.cardGroupTypes=t.cardGroupTypes,this.props.cvcPolicy=e.cvcPolicy,this.props.expiryDatePolicy=e.expiryDatePolicy,this.props.minimumExpiryDate=e.minimumExpiryDate),this.showWarnings=e.showWarnings,this.props.implementationType=e.implementationType,this.props.bundleType=e.bundleType,this.props.isCollatingErrors=e.isCollatingErrors,"undefined"==typeof adyen)return this.showWarnings&&o("WARNING: securedFields:: the expected top level object is not present. Error: type 7"),window.sfConfigLog.errors.push("CONFIG_MSG_REJECTED_TYPE_7"),a.o;if(!adyen.key||!adyen.key.length)return this.showWarnings&&o("WARNING: securedFields:: the encryption key is not present. It will not be possible to encrypt input fields. Error: type 8"),window.sfConfigLog.errors.push("CONFIG_MSG_REJECTED_TYPE_8"),a.p;_(e.iframeUIConfig.sfStyles),this.props.placeholdersConfig=e.iframeUIConfig.placeholders,this.props.ariaConfig=e.iframeUIConfig.ariaConfig,Object(P.c)(this.props.ariaConfig,"lang")&&document.getElementsByTagName("html")[0].setAttribute("lang",this.props.ariaConfig.lang.toString());var c=Object(P.c)(this.props.ariaConfig,"".concat(this.props.fieldType,".iframeTitle"));return c&&document.getElementsByTagName("head")[0].setAttribute("title",c),x(adyen.key).then((function(t){r.props.encryptionKey=t,window.sfHasConfigured=!0;var n=Object(i.c)(document,"#originErrorField");n&&Object(i.c)(document,"body").removeChild(n);r.setState({status:e.fieldType})})).catch((function(e){window.sfConfigLog.errors.push(e.toString())})),a.n}var T=function(e,t){return Number(e)===t||(o("WARNING: securedFields:: postMessage special data is incorrect: type 5"),!1)};function D(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function I(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function L(e){if(!(Object.prototype.hasOwnProperty.call(e,"txVariant")&&Object.prototype.hasOwnProperty.call(e,"fieldType")&&Object.prototype.hasOwnProperty.call(e,"numKey")))return this.showWarnings&&o("\nWARNING: securedFields:: postMessage special data is incorrect: type 4"),a.lb;if(!T(e.numKey,this.props.numKey))return a.mb;var t,r,i=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?D(Object(r),!0).forEach((function(t){I(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):D(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);if(i.focus)return this.sfCompRef.specialMessageOnFocus(),a.kb;if(i.styleObject)return j(i.styleObject),a.kb;if(Object.prototype.hasOwnProperty.call(i,"destroy"))return Object(n.c)(null,document.body,this.base),a.kb;if(i.fieldClick)return this.sfCompRef.specialMessageOnClick(i),a.kb;if(i.checkoutTouchEvent)return null===(t=(r=this.sfCompRef).specialMessageOnCheckoutTouchEvent)||void 0===t||t.call(r,i),a.kb;if(i.brand)return("card"===this.txVariant||"bcmc"===this.txVariant&&this.props.fieldType===a.D)&&this.sfCompRef.specialMessageOnBrand(i),a.kb;if(Object.prototype.hasOwnProperty.call(i,"unsupportedCard")){if(!0===i.unsupportedCard&&i.code.length)return this.sfCompRef.specialMessageUnsupportedCard(i),a.kb;if(!1===i.unsupportedCard&&0===i.code.length)return this.sfCompRef.specialMessageUnsupportedCard(null),a.kb}return i.externalValidation?(this.sfCompRef.specialMessageExternalValidation(i),a.kb):i.autoComplete?(this.sfCompRef.specialMessageAutoComplete(i),a.kb):i.code?(this.sfCompRef.specialMessageOnCode(i),a.kb):i.expiryDatePolicy?(this.sfCompRef.specialMessageExpiryDatePolicy(i),a.kb):a.kb}function K(e){var t,r=e.origin||e.originalEvent.origin,n=origin.length-1;if("/"===origin.charAt(n)&&(origin=origin.substring(0,n)),r!==origin)return a.gb;if("string"!=typeof e.data)return this.showWarnings&&o("\nWARNING: securedFields:: postMessage data is incorrect: type 1"),a.fb;try{t=JSON.parse(e.data)}catch(e){return this.showWarnings&&o("\nWARNING: securedFields:: postMessage data is incorrect: type 2"),a.eb}return function(e){return Object.prototype.hasOwnProperty.call(e,"txVariant")&&Object.prototype.hasOwnProperty.call(e,"fieldType")&&Object.prototype.hasOwnProperty.call(e,"extraFieldData")&&Object.prototype.hasOwnProperty.call(e,"numKey")&&Object.prototype.hasOwnProperty.call(e,"cardGroupTypes")&&Object.prototype.hasOwnProperty.call(e,"isCreditCardType")&&Object.prototype.hasOwnProperty.call(e,"showWarnings")&&Object.prototype.hasOwnProperty.call(e,"sfLogAtStart")}(t)?(this.eventOrigin=r,this.eventSource=e.source,this.handleConfigMessage(t)):function(e){return!!(Object.prototype.hasOwnProperty.call(e,"focus")||Object.prototype.hasOwnProperty.call(e,"brand")||Object.prototype.hasOwnProperty.call(e,"destroy")||Object.prototype.hasOwnProperty.call(e,"styleObject")||Object.prototype.hasOwnProperty.call(e,"fieldClick")||Object.prototype.hasOwnProperty.call(e,"checkoutTouchEvent")||Object.prototype.hasOwnProperty.call(e,"_b$dl")||Object.prototype.hasOwnProperty.call(e,"externalValidation")||Object.prototype.hasOwnProperty.call(e,"unsupportedCard")||Object.prototype.hasOwnProperty.call(e,"code")||Object.prototype.hasOwnProperty.call(e,"autoComplete")||Object.prototype.hasOwnProperty.call(e,"expiryDatePolicy"))}(t)?this.handleSpecialMessage(t):(o("\nWARNING: securedFields:: postMessage data is incorrect: type 6"),a.hb)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e){if(!Object.prototype.hasOwnProperty.call(e,"action")||Object.prototype.hasOwnProperty.call(e,"action")&&""===e.action)throw new Error("message not sent: no action set");var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);t.fieldType=this.props.fieldType,t.numKey=this.props.numKey;var r=JSON.stringify(t);return this.eventSource.postMessage(r,this.eventOrigin),r}var H,N,V,U,W=r(2),G=function(){W.a.__IS_SAFARI?!1===U.safariTabFixApplied&&(U.safariTabFixApplied=!0,setTimeout((function(){Object(i.c)(document,"#".concat(H)).focus()}),200)):Object(i.c)(document,"#".concat(H)).focus()},$=function(){V.call(U,{action:a.l})},J=function(){(W.a.__IS_FIREFOX||W.a.__IS_IE&&W.a.__IS_IE<=11)&&((N=Object(i.c)(document,"#shiftTabField")).setAttribute("tabindex",0),Object(i.b)(N,"focus",$))},q=function(e,t,r){H=e,V=t,U=r,(W.a.__IS_FIREFOX||W.a.__IS_IE&&W.a.__IS_IE<=11||W.a.__IS_SAFARI)&&Object(i.b)(window,"focus",G),setTimeout(J,0)};function z(e){return(z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Y(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function X(e,t){return(X=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Q(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=te(e);if(t){var o=te(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Z(this,r)}}function Z(e,t){if(t&&("object"===z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return ee(e)}function ee(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function te(e){return(te=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&X(e,t)}(c,e);var t,r,n,o=Q(c);function c(e){var t,r,n,i;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,c),t=o.call(this,e),r=ee(t),i=function(e){t.sfCompRef=e},(n="handleComponentRef")in r?Object.defineProperty(r,n,{value:i,enumerable:!0,configurable:!0,writable:!0}):r[n]=i,t.setState({status:"configuring"}),t.messageReceiver=K.bind(ee(t)),t.handleConfigMessage=R,t.handleSpecialMessage=L,t.sendPostMessage=B,t.tabbingFixesAddCount=0,t.safariTabFixApplied=!1,t.onChange=t.onChange.bind(ee(t)),t.init(),t}return t=c,(r=[{key:"init",value:function(){Object(i.b)(window,"message",this.messageReceiver,!1)}},{key:"onChange",value:function(e){this.sendPostMessage(e)}},{key:"componentDidMount",value:function(){}},{key:"shouldComponentUpdate",value:function(){return"configuring"===this.state.status}},{key:"componentDidUpdate",value:function(e,t){if("configuring"===t.status){if(this.tabbingFixesAddCount+=1,this.tabbingFixesAddCount>=2)throw new Error("Tabbing Fixes being added more than once");q(this.props.uniqueIdFromLabel||this.props.fieldType,this.onChange,this),"object"===z(this.sfCompRef)&&this.onChange({action:a.d})}}},{key:"componentWillUnmount",value:function(){this.sfCompRef=null,Object(i.a)(window,"message",this.messageReceiver,!1),(W.a.__IS_FIREFOX||W.a.__IS_IE&&W.a.__IS_IE<=11)&&(Object(i.a)(window,"focus",G),Object(i.a)(N,"focus",$))}},{key:"render",value:function(e){var t=e.SFFactory,r=e.type;return"configuring"!==this.state.status?(r&&console.log("\n### SecuredField::render:: for type",r),new t(this.props,this.state,this.handleComponentRef,this.onChange)):null}}])&&Y(t.prototype,r),n&&Y(t,n),Object.defineProperty(t,"prototype",{writable:!1}),c}(n.a);t.a=function(e,t){var r;window.origin=window.origin||origin,window.originKey=window.originKey||originKey,window.genTime=window.genTime||genTime,window.checkoutShopperUrl=window.checkoutShopperUrl||checkoutShopperUrl,window.sfConfigLog={errors:[]};var o=document.location.origin||"".concat(document.location.protocol,"//").concat(document.location.host),i=o+document.location.pathname;return window.checkoutShopperUrl.indexOf("-live")>-1&&-1===window.origin.indexOf("https")?(window.sfConfigLog.errors.push(a.V),!1):(r="".concat(window.checkoutShopperUrl,"securedfields/").concat(window.originKey,"/").concat("4.2.1","/securedFields.html"))!==i?(window.console&&window.console.error&&window.console.error("ERROR: sfInit:: Invalid hosting of SecuredFields file.  Document origin: ",o,"Permitted src=",r,"Actual src=",i),!1):(Object(n.c)(Object(n.b)(re,{SFFactory:e,type:t}),document.body),!0)}},function(e,t,r){"use strict";t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=e,o=t;n.length>2&&(o=(o=n.substr(2)+o).substr(0,2),n=n.substr(0,2));var i=Number(n);return 1===n.length&&(i>=2&&i<=9||r)&&(n="0".concat(i)),2===n.length&&(0===i&&(n="01"),i>12&&(o=(o=n.substr(1)+o).substr(0,2),n="0".concat(n.substr(0,1)))),{typedMonth:n,typedYear:o}}},function(e,t,r){"use strict";var n=r(7),o=r(0);t.a=function(e,t,r,i){var a="",c="",u=r.getFullYear(),s="20".concat(t),l=Number(s),f=Number(e),p=new Date(l,f-1),d=new Date(u,r.getMonth()-o.bb);if(p.getTime()<d)return{value:a=Object(n.b)(e+t),error:c=o.N};if(l>u+o.db)return{value:a=Object(n.b)(e+t),error:c=o.M};var h=function(e,t){var r=null;if(!e)return r;if(e){var n=e.split(o.t);if(n[0].length<1||n[0].length>2||n[1].length<2||3===n[1].length||n[1].length>4)return r;var i=n[0],a=2===n[1].length?"20".concat(n[1]):n[1];return a>t+o.db?r:r=new Date(Number(a),Number(i)-1)}return r}(i,u);return h&&p.getTime()<h.getTime()?{value:a=Object(n.b)(e+t),error:c=o.L}:{value:a,error:c}}},function(e,t,r){var n=function(e){"use strict";var t=Object.prototype,r=t.hasOwnProperty,n="function"==typeof Symbol?Symbol:{},o=n.iterator||"@@iterator",i=n.asyncIterator||"@@asyncIterator",a=n.toStringTag||"@@toStringTag";function c(e,t,r){return Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,r){return e[t]=r}}function u(e,t,r,n){var o=t&&t.prototype instanceof f?t:f,i=Object.create(o.prototype),a=new j(n||[]);return i._invoke=function(e,t,r){var n="suspendedStart";return function(o,i){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw i;return S()}for(r.method=o,r.arg=i;;){var a=r.delegate;if(a){var c=w(a,r);if(c){if(c===l)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var u=s(e,t,r);if("normal"===u.type){if(n=r.done?"completed":"suspendedYield",u.arg===l)continue;return{value:u.arg,done:r.done}}"throw"===u.type&&(n="completed",r.method="throw",r.arg=u.arg)}}}(e,r,a),i}function s(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}e.wrap=u;var l={};function f(){}function p(){}function d(){}var h={};c(h,o,(function(){return this}));var y=Object.getPrototypeOf,b=y&&y(y(P([])));b&&b!==t&&r.call(b,o)&&(h=b);var v=d.prototype=f.prototype=Object.create(h);function g(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function m(e,t){var n;this._invoke=function(o,i){function a(){return new t((function(n,a){!function n(o,i,a,c){var u=s(e[o],e,i);if("throw"!==u.type){var l=u.arg,f=l.value;return f&&"object"==typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(f).then((function(e){l.value=e,a(l)}),(function(e){return n("throw",e,a,c)}))}c(u.arg)}(o,i,n,a)}))}return n=n?n.then(a,a):a()}}function w(e,t){var r=e.iterator[t.method];if(void 0===r){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=void 0,w(e,t),"throw"===t.method))return l;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return l}var n=s(r,e.iterator,t.arg);if("throw"===n.type)return t.method="throw",t.arg=n.arg,t.delegate=null,l;var o=n.arg;return o?o.done?(t[e.resultName]=o.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=void 0),t.delegate=null,l):o:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,l)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function _(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function P(e){if(e){var t=e[o];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,i=function t(){for(;++n<e.length;)if(r.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=void 0,t.done=!0,t};return i.next=i}}return{next:S}}function S(){return{value:void 0,done:!0}}return p.prototype=d,c(v,"constructor",d),c(d,"constructor",p),p.displayName=c(d,a,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===p||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,d):(e.__proto__=d,c(e,a,"GeneratorFunction")),e.prototype=Object.create(v),e},e.awrap=function(e){return{__await:e}},g(m.prototype),c(m.prototype,i,(function(){return this})),e.AsyncIterator=m,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new m(u(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(e){return e.done?e.value:a.next()}))},g(v),c(v,a,"Generator"),c(v,o,(function(){return this})),c(v,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},e.values=P,j.prototype={constructor:j,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(_),!e)for(var t in this)"t"===t.charAt(0)&&r.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=void 0)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var t=this;function n(r,n){return a.type="throw",a.arg=e,t.next=r,n&&(t.method="next",t.arg=void 0),!!n}for(var o=this.tryEntries.length-1;o>=0;--o){var i=this.tryEntries[o],a=i.completion;if("root"===i.tryLoc)return n("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),u=r.call(i,"finallyLoc");if(c&&u){if(this.prev<i.catchLoc)return n(i.catchLoc,!0);if(this.prev<i.finallyLoc)return n(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return n(i.catchLoc,!0)}else{if(!u)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return n(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var a=i?i.completion:{};return a.type=e,a.arg=t,i?(this.method="next",this.next=i.finallyLoc,l):this.complete(a)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),l},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),_(r),l}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var o=n.arg;_(r)}return o}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:P(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=void 0),l}},e}(e.exports);try{regeneratorRuntime=n}catch(e){"object"==typeof globalThis?globalThis.regeneratorRuntime=n:Function("r","regeneratorRuntime = r")(n)}},function(e,t){var r,n,o=e.exports={};function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function c(e){if(r===setTimeout)return setTimeout(e,0);if((r===i||!r)&&setTimeout)return r=setTimeout,setTimeout(e,0);try{return r(e,0)}catch(t){try{return r.call(null,e,0)}catch(t){return r.call(this,e,0)}}}!function(){try{r="function"==typeof setTimeout?setTimeout:i}catch(e){r=i}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,s=[],l=!1,f=-1;function p(){l&&u&&(l=!1,u.length?s=u.concat(s):f=-1,s.length&&d())}function d(){if(!l){var e=c(p);l=!0;for(var t=s.length;t;){for(u=s,s=[];++f<t;)u&&u[f].run();f=-1,t=s.length}u=null,l=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function y(){}o.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new h(e,t)),1!==s.length||l||c(d)},h.prototype.run=function(){this.fun.apply(null,this.array)},o.title="browser",o.browser=!0,o.env={},o.argv=[],o.version="",o.versions={},o.on=y,o.addListener=y,o.once=y,o.off=y,o.removeListener=y,o.removeAllListeners=y,o.emit=y,o.prependListener=y,o.prependOnceListener=y,o.listeners=function(e){return[]},o.binding=function(e){throw new Error("process.binding is not supported")},o.cwd=function(){return"/"},o.chdir=function(e){throw new Error("process.chdir is not supported")},o.umask=function(){return 0}},function(e,t,r){"use strict";var n=r(4),o=r(10),i=r(12),a=r(0);function c(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function u(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?c(Object(r),!0).forEach((function(t){s(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):c(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function s(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function l(e,t,r,n,o,i,a){try{var c=e[i](a),u=c.value}catch(e){return void r(e)}c.done?t(u):Promise.resolve(u).then(n,o)}function f(e){return function(){var t=this,r=arguments;return new Promise((function(n,o){var i=e.apply(t,r);function a(e){l(i,n,o,a,c,"next",e)}function c(e){l(i,n,o,a,c,"throw",e)}a(void 0)}))}}function p(){return d.apply(this,arguments)}function d(){return(d=f(regeneratorRuntime.mark((function e(){var t,r,n,o,c,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props.fieldType,r={valToEncrypt:this.separateDateValues[0],encryptionType:"month",encryptionKey:this.props.encryptionKey,encryptionName:a.S,fieldType:t},e.next=4,Object(i.a)(r);case 4:return(n=e.sent)||console.warn("### handleValidDateField::ENCRYPTION FAIL:: encryptedMonthObj=",n),o=u(u({},r),{},{valToEncrypt:this.separateDateValues[1],encryptionType:"year",encryptionName:a.T}),e.next=9,Object(i.a)(o);case 9:if((c=e.sent)||console.warn("### handleValidDateField::ENCRYPTION FAIL:: encryptedYearObj=",c),!n||!c){e.next=16;break}return s=c[a.E],(l=n[a.E]&&n[a.E][0])&&s.unshift(l),e.abrupt("return",{onChangeObj:c,stateObj:{showAsValid:!0,error:""}});case 16:return console.warn("### handleValidDateField:: ENCRYPTION FAIL"),e.abrupt("return",{});case 18:case"end":return e.stop()}}),e,this)})))).apply(this,arguments)}var h=r(8);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function b(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function v(){return(v="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=g(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function g(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=_(e)););return e}function m(e,t){return(m=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=_(e);if(t){var o=_(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return O(this,r)}}function O(e,t){if(t&&("object"===y(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function _(e){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var j,P,S,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&m(e,t)}(i,e);var t,r,n,o=w(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).separateDateValues=[],t.oldCursor=void 0,t.newCursorPosition=void 0,t.extraValidationProps={minimumExpiryDateStr:t.props.minimumExpiryDate},t.setState({status:"initialising",ariaRequired:t.props.expiryDatePolicy===a.s?"true":"false"}),t}return t=i,(r=[{key:"componentDidMount",value:function(){v(_(i.prototype),"componentDidMount",this).call(this),this.handleValidField=p}},{key:"onKeyDown",value:function(e){this.oldCursor=h.a.getCaretPos(this.fieldRef,!0),v(_(i.prototype),"onKeyDown",this).call(this,e)}},{key:"onKeyUpAndroid",value:function(){this.newCursorPosition===this.fieldRef.value.length&&h.a.setSelectionRange(this.fieldRef,this.newCursorPosition)}},{key:"getNumChars",value:function(){var e=v(_(i.prototype),"getNumChars",this).call(this);return this.fieldRef.value.length>=3&&(e+=1),e}},{key:"specialMessageExpiryDatePolicy",value:function(e){this.setState({status:"expiryDatePolicyMsg_processed",ariaRequired:e.expiryDatePolicy===a.s?"true":"false",displayPolicy:e.expiryDatePolicy})}}])&&b(t.prototype,r),n&&b(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(o.a);j=k,P="defaultProps",S={placeholder:a.B,ariaLabel:a.w},P in j?Object.defineProperty(j,P,{value:S,enumerable:!0,configurable:!0,writable:!0}):j[P]=S;var C=k,E=r(7),x=r(6),A=r(17),R=r(18),T=r(3);function D(e){var t,r,n=e.originalVal,o=e.dateArr,i=e.cursorPosFlag,c=e.minimumExpiryDateStr,u=!1,s=1===this.oldValue.length&&Object(x.d)(n)===a.t,l={},f=new Date(genTime),p=Object(A.a)(o[0],o[1],s),d=p.typedMonth,y=p.typedYear;if(y&&2===y.length){var b=Object(R.a)(d,y,f,c),v=b.value,g=b.error;if(v.length&&(this.fieldRef.value=v),g.length)return(l=Object(T.a)(l,"error",g)).action=Object(x.g)(this.action,"date"),{error:g,commObj:l,propsOnThis:{separateDateValues:[]}}}2===(t=this.mask(d+y)).length&&Object(x.d)(t)===a.t&&(t=Object(x.h)(t,1)),""!==t&&this.deleteKeyPressed&&h.a.getCaretPos(this.fieldRef)===n.length&&2===h.a.getCaretPos(this.fieldRef)&&(t=Object(x.h)(t,2)),5===t.length&&(u=!0),i&&(r=i);var m=this.unmask(t).dateArr;return{newValue:t,isValidLength:u,commObj:l,error:"",newCursorPosition:r,propsOnThis:{newCursorPosition:r,separateDateValues:[m[0]&&2===m[0].length?m[0]:"",m[1]&&2===m[1].length?"20".concat(m[1]):""]}}}var I=r(9),L=["minimumExpiryDate","expiryDatePolicy"];function K(){return(K=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function M(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function F(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function B(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function H(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function N(e,t,r){return t&&H(e.prototype,t),r&&H(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var V=N((function e(t,r,o,i){var a=t.minimumExpiryDate,c=t.expiryDatePolicy,u=B(t,L);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=Object(I.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?M(Object(r),!0).forEach((function(t){F(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):M(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({handleComponentRef:o,onChange:i},u));return Object(n.b)(C,K({},s,{description:"date",encryptionName:"n/a",mask:E.b,unmask:E.e,validate:D,maxLength:5,autoComplete:"cc-exp",minimumExpiryDate:a,expiryDatePolicy:c}))}));t.a=V},,,,,,function(e,t,r){"use strict";r.r(t);r(19);var n=r(16),o=r(4),i=r(10),a=r(8),c=r(6),u=r(3),s=r(0);function l(e,t){var r=this.unmask(e).unmaskedVal,n=!1;this.deleteKeyPressed&&r===this.unmask(this.oldValue).unmaskedVal&&(n=!0);var o=this.validate(r),i=o.newValue,l=o.isValidLength,f=o.luhnCheckPassStatus,p=o.passedSingleDigitTest,d=o.commObj,h=o.newCursorPosition;this.fieldRef.value=i,n&&(h-=1),h<0&&(h=0),(h||this.deleteKeyPressed&&0===h)&&(t&&!this.deleteKeyPressed&&(h=this.fieldRef.value.length),a.a.setSelectionRange(this.fieldRef,h)),d=Object(u.a)(d,"error",""),d=Object(u.a)(d,"action",Object(c.g)(this.action,this.desc));var y=this.unmask(i).unmaskedVal,b=y.substr(0,s.ab);this.storedBinValue!==b&&(d=Object(u.a)(d,"binValue",b));var v=y.substr(0,s.J);v.length===s.J?this.storedEncryptableBinValue!==v&&(d=Object(u.a)(d,"binValue",b),d=Object(u.a)(d,"encryptableBinValue",v),this.storedEncryptableBinValue=v):v.length<s.J&&this.storedEncryptableBinValue.length&&(d=Object(u.a)(d,"binValue","no-encrypted-value"),this.storedEncryptableBinValue="");var g=l?y.substring(y.length-4):"";d=Object(u.a)(d,"endDigits",g);var m=l&&y.length>=16?y.substring(0,s.W):"";return d=m?Object(u.a)(d,"issuerBin",m):d,this.isValidLength=l,this.luhnCheckPassStatus=f,this.passedSingleDigitTest=p,this.newCursorPosition=h,this.storedBinValue=b,this.deleteKeyPressed=!1,this.setState({status:"onInput_finalised",commObj:d}),d}var f=r(1);var p,d=r(2),h={__NO_BRAND:"noBrand",cards:[]};h.cards.push({cardType:"mc",startingRules:[51,52,53,54,55,22,23,24,25,26,27],permittedLengths:[16],pattern:/^(5[1-5][0-9]{0,14}|2[2-7][0-9]{0,14})$/,securityCode:"CVC"}),h.cards.push({cardType:"visadankort",startingRules:[4571],permittedLengths:[16],pattern:/^(4571)[0-9]{0,12}$/}),h.cards.push({cardType:"visa",startingRules:[4],permittedLengths:[13,16,19],pattern:/^4[0-9]{0,18}$/,securityCode:"CVV"}),h.cards.push({cardType:"amex",startingRules:[34,37],permittedLengths:[15],pattern:/^3[47][0-9]{0,13}$/,securityCode:"CID"}),h.cards.push({cardType:"diners",startingRules:[36],permittedLengths:[14],pattern:/^(36)[0-9]{0,12}$/}),h.cards.push({cardType:"maestrouk",startingRules:[6759],permittedLengths:[16,18,19],pattern:/^(6759)[0-9]{0,15}$/}),h.cards.push({cardType:"solo",startingRules:[6767],permittedLengths:[16,18,19],pattern:/^(6767)[0-9]{0,15}$/}),h.cards.push({cardType:"laser",startingRules:[6304,6706,677117,677120],permittedLengths:[16,17,18,19],pattern:/^(6304|6706|6709|6771)[0-9]{0,15}$/,cvcPolicy:"optional"}),h.cards.push({cardType:"discover",startingRules:[6011,644,645,646,647,648,649,65],permittedLengths:[16],pattern:/^(6011[0-9]{0,12}|(644|645|646|647|648|649)[0-9]{0,13}|65[0-9]{0,14})$/}),h.cards.push({cardType:"jcb",startingRules:[3528,3529,353,354,355,356,357,358],permittedLengths:[16,19],pattern:/^(352[8,9]{1}[0-9]{0,15}|35[4-8]{1}[0-9]{0,16})$/,securityCode:"CAV"}),h.cards.push({cardType:"bcmc",startingRules:[6703,479658,606005],permittedLengths:[16,17,18,19],pattern:/^((6703)[0-9]{0,15}|(479658|606005)[0-9]{0,13})$/,cvcPolicy:"hidden"}),h.cards.push({cardType:"bijcard",startingRules:[5100081],permittedLengths:[16],pattern:/^(5100081)[0-9]{0,9}$/}),h.cards.push({cardType:"dankort",startingRules:[5019],permittedLengths:[16],pattern:/^(5019)[0-9]{0,12}$/}),h.cards.push({cardType:"hipercard",startingRules:[606282],permittedLengths:[16],pattern:/^(606282)[0-9]{0,10}$/}),h.cards.push({cardType:"cup",startingRules:[62,81],permittedLengths:[14,15,16,17,18,19],pattern:/^(62|81)[0-9]{0,17}$/}),h.cards.push({cardType:"maestro",startingRules:[50,56,57,58,6],permittedLengths:[16,17,18,19],pattern:/^(5[0|6-8][0-9]{0,17}|6[0-9]{0,18})$/,cvcPolicy:"optional"}),h.cards.push({cardType:"elo",startingRules:[506699,50670,50671,50672,50673,50674,50675,50676,506770,506771,506772,506773,506774,506775,506776,506777,506778,401178,438935,451416,457631,457632,504175,627780,636297,636368],permittedLengths:[16],pattern:/^((((506699)|(506770)|(506771)|(506772)|(506773)|(506774)|(506775)|(506776)|(506777)|(506778)|(401178)|(438935)|(451416)|(457631)|(457632)|(504175)|(627780)|(636368)|(636297))[0-9]{0,10})|((50676)|(50675)|(50674)|(50673)|(50672)|(50671)|(50670))[0-9]{0,11})$/}),h.cards.push({cardType:"uatp",startingRules:[1],permittedLengths:[15],pattern:/^1[0-9]{0,14}$/,cvcPolicy:"optional"}),h.cards.push({cardType:"cartebancaire",startingRules:[4,5,6],permittedLengths:[16],pattern:/^[4-6][0-9]{0,15}$/}),h.cards.push({cardType:"visaalphabankbonus",startingRules:[450903],permittedLengths:[16],pattern:/^(450903)[0-9]{0,10}$/}),h.cards.push({cardType:"mcalphabankbonus",startingRules:[510099],permittedLengths:[16],pattern:/^(510099)[0-9]{0,10}$/}),h.cards.push({cardType:"hiper",startingRules:[637095,637568,637599,637609,637612],permittedLengths:[16],pattern:/^(637095|637568|637599|637609|637612)[0-9]{0,10}$/}),h.cards.push({cardType:"oasis",startingRules:[982616],permittedLengths:[16],pattern:/^(982616)[0-9]{0,10}$/,cvcPolicy:"optional"}),h.cards.push({cardType:"karenmillen",startingRules:[98261465],permittedLengths:[16],pattern:/^(98261465)[0-9]{0,8}$/,cvcPolicy:"optional"}),h.cards.push({cardType:"warehouse",startingRules:[982633],permittedLengths:[16],pattern:/^(982633)[0-9]{0,10}$/,cvcPolicy:"optional"}),h.cards.push({cardType:"mir",startingRules:[220],permittedLengths:[16,17,18,19],pattern:/^(220)[0-9]{0,16}$/}),h.cards.push({cardType:"codensa",startingRules:[590712],permittedLengths:[16],pattern:/^(590712)[0-9]{0,10}$/}),h.cards.push({cardType:"naranja",startingRules:[377798,377799,402917,402918,527571,527572,589562],permittedLengths:[16,17,18,19],pattern:/^(37|40|5[28])([279])\d*$/}),h.cards.push({cardType:"cabal",startingRules:[589657,600691,603522,6042,6043,636908],permittedLengths:[16,17,18,19],pattern:/^(58|6[03])([03469])\d*$/}),h.cards.push({cardType:"shopping",startingRules:[2799,589407,603488],permittedLengths:[16,17,18,19],pattern:/^(27|58|60)([39])\d*$/}),h.cards.push({cardType:"argencard",startingRules:[501],permittedLengths:[16,17,18,19],pattern:/^(50)(1)\d*$/}),h.cards.push({cardType:"troy",startingRules:[9792],permittedLengths:[16],pattern:/^(97)(9)\d*$/}),h.cards.push({cardType:"forbrugsforeningen",startingRules:[600722],permittedLengths:[16],pattern:/^(60)(0)\d*$/}),h.cards.push({cardType:"vpay",startingRules:[401,408,413,434,435,437,439,441,442,443,444,446,447,455,458,460,461,463,466,471,479,482,483,487],permittedLengths:[13,14,15,16,17,18,19],pattern:/^(40[1,8]|413|43[4,5]|44[1,2,3,4,6,7]|45[5,8]|46[0,1,3,6]|47[1,9]|48[2,3,7])[0-9]{0,16}$/}),h.cards.push({cardType:"rupay",startingRules:[508528],permittedLengths:[16],pattern:/^(100003|508(2|[5-9])|60(69|[7-8])|652(1[5-9]|[2-5][0-9]|8[5-9])|65300[3-4]|8172([0-1]|[3-5]|7|9)|817(3[3-8]|40[6-9]|410)|35380([0-2]|[5-6]|9))[0-9]{0,12}$/});var y=function(e,t,r){var n=Math.floor(e/4),o=t+(e%4>0?n:n-1);return"amex"===r.toLowerCase()&&(o=t+2),o},b={detectCard:function(e,t){var r,n,o;if(t){if((r=h.cards.filter((function(e){return t.includes(e.cardType)})).filter((function(t){return Object.prototype.hasOwnProperty.call(t,"pattern")&&e.match(t.pattern)}))).length){if(1===r.length)return r[0];for(n=0,o=r.length;n<o;n+=1)if(!r[n].longestRule){var i=r[n].startingRules.reduce((function(e,t){return e>t?e:t}));r[n].longestRule=String(i).length}return r.reduce((function(e,t){return e.longestRule>=t.longestRule?e:t}))}return{cardType:h.__NO_BRAND}}return{cardType:h.__NO_BRAND}},detectCardLength:function(e,t){var r,n,o=0,i=!1,a=t,c=e.cardType!==h.__NO_BRAND?e.permittedLengths[e.permittedLengths.length-1]:0;return c&&a>c&&(o=a.length-c)>0&&(n=a=a.substring(0,a.length-o)),e.permittedLengths.forEach((function(e){a.length===e&&(i=!0)})),a.length===c&&(r=y(a.length,c,e.cardType)),{shortenedNewValue:n,maxLength:r,reachedValidLength:i}},getShortestPermittedCardLength:function(){if(!p){var e=[];h.cards.forEach((function(t){e=e.concat(t.permittedLengths)})),p=Math.min.apply(null,e)}return p},getCardByBrand:function(e){return h.cards.filter((function(t){return t.cardType===e}))[0]},isGenericCardType:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"card";return"card"===e||"scheme"===e},__NO_BRAND:h.__NO_BRAND,allCards:h.cards};function v(e){if("reset"===e.brand)return this.binLookupBrand=null,this.enableLuhnCheck=!0,this.hasDoneResetOnBrand=!0,this.fieldRef.setAttribute("maxlength",String(s.cb)),this.binLookupPanLength=null,void this.onInput();if(e.brand!==this.cardBrand&&(this.cardBrand=e.brand,this.binLookupBrand=[this.cardBrand]),(null==e?void 0:e.panLength)>0){var t=y(e.panLength,e.panLength,e.brand);this.fieldRef.setAttribute("maxlength",t),this.binLookupPanLength=e.panLength}var r=this.enableLuhnCheck;this.enableLuhnCheck=!(!1===e.enableLuhnCheck),this.enableLuhnCheck!==r&&this.onInput()}function g(e){if(e){var t,r,n,o=null!==(t=null===(r=this.props.ariaErrorText)||void 0===r||null===(n=r[e.code])||void 0===n?void 0:n.toString())&&void 0!==t?t:s.R;this.setState({showAsValid:!1,error:o,hasUnsupportedCard:!0})}else this.setState({hasUnsupportedCard:!1}),this.specialMessageAutoComplete(null,!1)}var m=r(12);function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var r=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==r)return;var n,o,i=[],a=!0,c=!1;try{for(r=r.call(e);!(a=(n=r.next()).done)&&(i.push(n.value),!t||i.length!==t);a=!0);}catch(e){c=!0,o=e}finally{try{a||null==r.return||r.return()}finally{if(c)throw o}}return i}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function _(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function j(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var P="".concat(s.pb).concat(s.pb.toUpperCase()),S=(new Date).getTime(),k={},C=function(){k.incrementEvtCount("activate"),window.location&&"string"==typeof window.location.href&&k.set("referrer",window.location.href)},E=function(){k.incrementEvtCount("deactivate")},x=function(e,t){switch(t){case"key":case"code":return"Shift"===e||"ShiftRight"===e||"ShiftLeft"===e?"Shift":"Control"===e||"ControlLeft"===e||"ControlRight"===e?"Control":"Alt"===e||"AltLeft"===e||"AltRight"===e?"Alt":" "===e||"Space"===e?"Space":"Meta"===e||"MetaRight"===e||"MetaLeft"===e?"Meta":e;case"keyCode":case"which":return 8===e?"Backspace":16===e?"Shift":17===e?"Control":18===e?"Alt":37===e?"ArrowLeft":39===e?"ArrowRight":46===e?"Delete":32===e?"Space":91===e||93===e?"Meta":String.fromCharCode(e);default:return e}};k={data:{},incrementEvtCount:function(e){Object.prototype.hasOwnProperty.call(k.data,e)?k.data[e]++:k.data[e]=1},log:function(e,t){var r="".concat(e,"FieldLog"),n=(new Date).getTime()-S;n=Math.round(n/100),Object.prototype.hasOwnProperty.call(k.data,r)?k.data[r]+=",".concat(t,"@").concat(n):k.data[r]="".concat(t,"@").concat(n),k.data[r].length>1500&&(k.data[r]=k.data[r].substring(k.data[r].length-1500),k.data[r]=k.data[r].substring(k.data[r].indexOf(",")+1))},set:function(e,t){k.data[e]=t},bind:function(e,t){k.incrementEvtCount("".concat(t,"Bind")),k.clickHandler=function(){k.incrementEvtCount("".concat(t,"FieldClickCount")),k.log(t,"cl")},k.changeHandler=function(){k.incrementEvtCount("".concat(t,"FieldChangeCount")),k.log(t,"ch")},k.pasteHandler=function(){k.incrementEvtCount("".concat(t,"FieldPasteCount")),k.log(t,"pa")},k.focusHandler=function(){k.incrementEvtCount("".concat(t,"FieldFocusCount")),k.log(t,"fo")},k.blurHandler=function(){k.incrementEvtCount("".concat(t,"FieldBlurCount")),k.log(t,"bl")},k.touchstartHandler=function(){k.incrementEvtCount("".concat(t,"FieldTouchStartCount")),k.log(t,"Ts")},k.touchendHandler=function(){k.incrementEvtCount("".concat(t,"FieldTouchEndCount")),k.log(t,"Te")},k.keydownHandler=function(e){k.incrementEvtCount("".concat(t,"FieldKeyCount"));var r=a.a.handleKeyPress(e,x);switch(e&&r){case"Backspace":k.log(t,"Kb");break;case"ArrowLeft":k.log(t,"Kl");break;case"ArrowRight":k.log(t,"Kr");break;case"Delete":k.log(t,"Kd");break;case"Space":k.log(t,"Ks");break;case"Shift":k.log(t,"Sd");break;case"Control":k.log(t,"Cd");break;case"Alt":k.log(t,"Ad");break;case"Meta":k.log(t,"Md");break;default:s.ob.includes(r)?k.log(t,"KN"):P.includes(r)?k.log(t,"KL"):(k.log(t,"KU"),k.log("".concat(t,"UnkKeys"),e.keyCode))}},Object(f.b)(e,"change",k.changeHandler,!0),Object(f.b)(e,"click",k.clickHandler,!0),Object(f.b)(e,"paste",k.pasteHandler,!0),Object(f.b)(e,"focus",k.focusHandler,!0),Object(f.b)(e,"blur",k.blurHandler,!0),Object(f.b)(e,"touchstart",k.touchstartHandler,!0),Object(f.b)(e,"touchend",k.touchendHandler,!0),Object(f.b)(e,"keydown",k.keydownHandler,!0),k.elem=e},mergeLog:function(e){var t=function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?_(Object(r),!0).forEach((function(t){j(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):_(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({},e);return Object.entries(k.data).forEach((function(e){var r=w(e,2),n=r[0],o=r[1];t[n]=String(o)})),t},destroy:function(){Object(f.a)(window,"focus",C,!1),Object(f.a)(window,"blur",E,!1),Object(f.a)(k.elem,"change",k.changeHandler,!0),Object(f.a)(k.elem,"click",k.clickHandler,!0),Object(f.a)(k.elem,"paste",k.pasteHandler,!0),Object(f.a)(k.elem,"focus",k.focusHandler,!0),Object(f.a)(k.elem,"blur",k.blurHandler,!0),Object(f.a)(k.elem,"touchstart",k.touchstartHandler,!0),Object(f.a)(k.elem,"touchend",k.touchendHandler,!0),Object(f.a)(k.elem,"keydown",k.keydownHandler,!0)}};var A=function(e,t){if("string"!=typeof e||"number"!==e&&"cvc"!==e)throw new Error("Invalid field name. Expected 'number' or 'cvc' but received '".concat(e,"'"));return window&&(Object(f.b)(window,"focus",C,!1),Object(f.b)(window,"blur",E,!1)),k.bind(t,e),{mergeLog:k.mergeLog,destroy:k.destroy}};function R(e){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function T(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function D(){return(D="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=I(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function I(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=F(e)););return e}function L(e,t){return(L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function K(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=F(e);if(t){var o=F(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return M(this,r)}}function M(e,t){if(t&&("object"===R(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var B,H,N,V=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&L(e,t)}(p,e);var t,r,n,i=K(p);function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=i.call(this,e)).handleOnInput=l,t.cardBrand=t.props.cardBrand,t.oldCursor=void 0,t.newCursorPosition=void 0,t.storedBinValue="",t.storedEncryptableBinValue="",t.luhnCheckPassStatus="untested",t.passedSingleDigitTest="untested",t.binLookupBrand=null,t.binLookupPanLength=null,t.enableLuhnCheck=!0,t.hasDoneResetOnBrand=!1,t.extraFeedbackPropsArr=["endDigits","issuerBin"],t.acDate=null,t.acName=null,t.acElements=function(){return Object(o.b)("div",null,Object(o.b)("input",{className:"autocomplete-field",type:"text",id:"acDtField",name:"cc-exp",autocomplete:"cc-exp","aria-hidden":"true",tabIndex:d.a.__IS_CHROME_IOS&&!t.state.autofillHasHappened?null:"-1"}),Object(o.b)("input",{className:"autocomplete-field",type:"text",id:"acNmField",name:"cc-name",autocomplete:"cc-name","aria-hidden":"true",tabIndex:d.a.__IS_CHROME_IOS&&!t.state.autofillHasHappened?null:"-1"}))},t}return t=p,(r=[{key:"componentDidMount",value:function(){D(F(p.prototype),"componentDidMount",this).call(this),this.eventLogger=A("number",this.fieldRef),this.addAutoCompleteListeners(),this.specialMessageOnBrand=v,this.specialMessageUnsupportedCard=g}},{key:"addAutoCompleteListeners",value:function(){var e=this;this.acDate=Object(f.c)(this.base,"#acDtField"),this.acName=Object(f.c)(this.base,"#acNmField"),this.autoCompleteListener=function(t){"cc-name"===t.currentTarget.getAttribute("name")&&Object(c.c)(t.currentTarget.value)||(e.setState({isInAutofillMode:!1,autofillHasHappened:!0}),e.onChange({action:s.a,name:t.currentTarget.getAttribute("name"),value:t.currentTarget.value}))}.bind(this),this.autoCompleteFocusListener=function(){e.fieldRef.focus()}.bind(this),this.acDate&&(Object(f.b)(this.acDate,"input",this.autoCompleteListener,!1),d.a.__IS_CHROME_IOS&&Object(f.b)(this.acDate,"focus",this.autoCompleteFocusListener,!1)),this.acName&&(Object(f.b)(this.acName,"input",this.autoCompleteListener,!1),d.a.__IS_CHROME_IOS&&Object(f.b)(this.acName,"focus",this.autoCompleteFocusListener,!1))}},{key:"onKeyDown",value:function(e){this.oldCursor=a.a.getCaretPos(this.fieldRef,!0),D(F(p.prototype),"onKeyDown",this).call(this,e)}},{key:"onInput",value:function(e,t){var r=D(F(p.prototype),"onInput",this).call(this,e,t,!0);if(null==r||!r.isComposing){var n=t;this.wasComposing&&(this.wasComposing=!1,n=!0),null!=r&&r.unwantedIEEvent||this.handleOnInput(r.currentVal,n,e)}}},{key:"onKeyUpAndroid",value:function(){this.newCursorPosition===this.fieldRef.value.length&&a.a.setSelectionRange(this.fieldRef,this.newCursorPosition)}},{key:"onBlur",value:function(e){var t=this;D(F(p.prototype),"onBlur",this).call(this,e,!0),this.doLuhnCheck().then((function(e){var r=e.onChangeObj,n=e.stateObj;r&&t.onChange(r),t.setState(n,(function(){D(F(p.prototype),"checkIncompleteField",t).call(t)}))}))}},{key:"doLuhnCheck",value:function(){var e=this;return new Promise((function(t){if("false"===e.luhnCheckPassStatus||"true"===e.luhnCheckPassStatus&&"false"===e.passedSingleDigitTest){var r={action:s.j,error:s.Q};t(e.processInputFeedback(r))}else t({onChangeObj:null,stateObj:{}})}))}},{key:"componentDidUpdate",value:function(){var e=this;if("onInput_finalised"===this.state.status){var t=this.state.commObj;if(t){if(Object.prototype.hasOwnProperty.call(t,"binValue")){var r={action:s.b,binValue:t.binValue},n=Object.prototype.hasOwnProperty.call(t,"encryptableBinValue")?t.encryptableBinValue:null;if(t=Object(u.f)("binValue","encryptableBinValue").from(t),this.storedEncryptableBinValue.length&&n){var o={valToEncrypt:n,encryptionType:"encryptedBinValue",encryptionKey:this.props.encryptionKey,encryptionName:"binValue",fieldType:"encryptedBinValue"};Object(m.a)(o).then((function(t){t&&(r.encryptedBin=t.encryptedBinValue[0].blob,r.uuid="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))),e.onChange(r)}))}else this.onChange(r)}if(Object.prototype.hasOwnProperty.call(t,"brand")){if(!this.props.isSingleBrandedCard&&(t.brand!==this.cardBrand||this.hasDoneResetOnBrand)){this.hasDoneResetOnBrand&&(this.hasDoneResetOnBrand=!1),this.cardBrand=t.brand;var i=Object(u.e)("brand","cvcPolicy","cvcText","maxLength").from(t);i.action=s.c,this.onChange(i)}t=Object(u.f)("brand","cvcPolicy","cvcText","maxLength").from(t)}this.setState({status:"processing_input"}),this.processInputFeedback(t).then((function(t){var r=t.onChangeObj,n=t.stateObj;r&&e.onChange(r),e.setState(n)})).catch((function(e){console.warn("WARNING: ",e)}))}}}},{key:"destroy",value:function(){this.acDate&&(Object(f.a)(this.acDate,"input",this.autoCompleteListener,!1),d.a.__IS_CHROME_IOS&&Object(f.a)(this.acDate,"focus",this.autoCompleteFocusListener,!1)),this.acName&&(Object(f.a)(this.acName,"input",this.autoCompleteListener,!1),d.a.__IS_CHROME_IOS&&Object(f.a)(this.acName,"focus",this.autoCompleteFocusListener,!1)),D(F(p.prototype),"destroy",this).call(this)}},{key:"render",value:function(){return D(F(p.prototype),"render",this).call(this,this.props,this.state,this.acElements)}}])&&T(t.prototype,r),n&&T(t,n),Object.defineProperty(t,"prototype",{writable:!1}),p}(i.a);B=V,H="defaultProps",N={placeholder:s.z,ariaLabel:s.u},H in B?Object.defineProperty(B,H,{value:N,enumerable:!0,configurable:!0,writable:!0}):B[H]=N;var U=V,W=r(7);function G(e,t){var r=0;return t?(e>=5&&(r=1),e>=12&&(r=2)):r=Math.floor(e/5),r}function $(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function J(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?$(Object(r),!0).forEach((function(t){q(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):$(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function q(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function z(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Security_code",n=arguments.length>3?arguments[3]:void 0;if(!t||1===t.length)return n;var o="amex"===e?4:3,i=J(J({},n),{},{maxLength:o,cvcText:r});return i}function Y(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"card",t=arguments.length>1?arguments[1]:void 0,r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;return t?1===t.length?J(J({},n),{},{brand:e}):J(J({},n),{},{brand:e,cvcPolicy:r}):n}var X={};var Q={checkNumber:function(e){var t=e;if("number"==typeof e)return!1;if(isNaN(parseInt(t,10)))return!1;var r=t.length,n=1&r,o=0;if(void 0===X[t]){for(var i=0;i<r;i++){var a=parseInt(t.charAt(i),10);1&i^n||(a*=2)>9&&(a-=9),o+=a}X[t]=o%10==0}return X[t]}};function Z(e,t,r){var n=null,o=Object(W.f)(e).unmaskedVal;if(r||function(e,t){var r=Object(W.f)(e).unmaskedVal,n=b.detectCard(r,t),o=!1;return n.cardType!==b.__NO_BRAND?n.permittedLengths.forEach((function(e){r.length===e&&(o=!0)})):r.length>=b.getShortestPermittedCardLength()&&(o=!0),o}(e,t)){var i=Q.checkNumber(o),a=i?"":s.Q;n={action:s.j,error:a,valid:i}}return n}function ee(e){var t,r={},n="untested",o="untested",i=!1,a=!1,l=this.binLookupBrand||this.props.cardGroupTypes||[],f=function(e,t,r,n){return r?b.getCardByBrand(n)||{cardType:b.__NO_BRAND}:b.detectCard(e.substr(0,7),t)}(e,l,this.props.isSingleBrandedCard,this.cardBrand),p="amex"===f.cardType.toLowerCase();t=this.mask(e,p);var d=function(e){var t=e.oldCursor,r=e.oldValue,n=e.newValue,o=e.isAmexType;return t-G(t,o)+G(t+(n.length-r.length),o)+(Object(W.f)(n).unmaskedVal.length-Object(W.f)(r).unmaskedVal.length)}({oldCursor:this.oldCursor,oldValue:this.oldValue,newValue:t,isAmexType:p});if(f.cardType!==b.__NO_BRAND){var h,y=null!==(h=f.cvcPolicy)&&void 0!==h?h:s.q;r=Y(f.cardType,l,y,r),r=z(f.cardType,l,f.securityCode,r);var v=b.detectCardLength(f,e);t=v.shortenedNewValue?this.mask(v.shortenedNewValue,p):t,i=v.reachedValidLength}else r=function(e,t){var r,n=J({},t);return e&&1===e.length&&(r=e[0]),n=z(void 0,e,void 0,n=Y(r,e,s.q,n))}(l,r),e.length>=b.getShortestPermittedCardLength()&&(i=!0),!1===this.enableLuhnCheck&&(i=e.length>=16);if(i){var g=!1===this.enableLuhnCheck?{valid:16===e.length,error:"",action:s.j}:Z(t,this.binLookupBrand||this.props.cardGroupTypes,!0);a=g.valid,this.binLookupPanLength&&e.length!==this.binLookupPanLength&&(a=!1),n=g.valid.toString(),o=(!Object(u.b)(e)).toString()}return""!==t&&(this.deleteKeyPressed&&d===t.length&&Object(c.d)(t)===s.ib&&(t=Object(c.h)(t)),i&&Object(c.d)(t)===s.ib&&this.props.trimTrailingSeparator&&(t=Object(c.h)(t))),{newValue:t,isValidLength:a,commObj:r,newCursorPosition:d,luhnCheckPassStatus:n,passedSingleDigitTest:o}}var te=r(9),re=["cardBrand","cardGroupTypes","isSingleBrandedCard","trimTrailingSeparator"];function ne(){return(ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function oe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function ie(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ae(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function ue(e,t,r){return t&&ce(e.prototype,t),r&&ce(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var se=ue((function e(t,r,n,i){var a=t.cardBrand,c=t.cardGroupTypes,u=t.isSingleBrandedCard,l=t.trimTrailingSeparator,f=ae(t,re);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var p=Object(te.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?oe(Object(r),!0).forEach((function(t){ie(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):oe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({handleComponentRef:n,onChange:i},f));return Object(o.b)(U,ne({},p,{description:"number",encryptionName:"number",mask:W.c,validate:ee,maxLength:s.cb,autoComplete:"cc-number",cardBrand:a,cardGroupTypes:c,isSingleBrandedCard:u,trimTrailingSeparator:l}))})),le=r(21);function fe(e){return(fe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function de(){return(de="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=he(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function he(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=ge(e)););return e}function ye(e,t){return(ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function be(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=ge(e);if(t){var o=ge(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return ve(this,r)}}function ve(e,t){if(t&&("object"===fe(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var me=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ye(e,t)}(i,e);var t,r,n,o=be(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).setState({status:"initialising",ariaRequired:t.props.expiryDatePolicy===s.s?"true":"false"}),t}return t=i,(r=[{key:"onBlur",value:function(e){de(ge(i.prototype),"onBlur",this).call(this,e,!0),"0"!==this.fieldRef.value&&"1"!==this.fieldRef.value||(this.fieldRef.value="01",this.onInput(e))}},{key:"specialMessageExpiryDatePolicy",value:function(e){this.setState({status:"expiryDatePolicyMsg_processed",ariaRequired:e.expiryDatePolicy===s.s?"true":"false",displayPolicy:e.expiryDatePolicy})}}])&&pe(t.prototype,r),n&&pe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.a),we=r(17);function Oe(e){var t=e.unmaskedVal,r=!1,n=Object(we.a)(t).typedMonth;return 2===n.length&&(r=!0),{newValue:n,isValidLength:r,commObj:{},error:""}}var _e=["expiryDatePolicy"];function je(){return(je=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Pe(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Se(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ke(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function Ce(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ee(e,t,r){return t&&Ce(e.prototype,t),r&&Ce(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var xe=Ee((function e(t,r,n,i){var a=t.expiryDatePolicy,c=ke(t,_e);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var u=Oe,s=Object(te.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Pe(Object(r),!0).forEach((function(t){Se(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Pe(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({handleComponentRef:n,onChange:i},c));return Object(o.b)(me,je({},s,{description:"month",encryptionName:"expiryMonth",mask:void 0,unmask:void 0,validate:u,maxLength:2,autoComplete:"cc-exp-month",valToEncrypt:void 0,expiryDatePolicy:a}))})),Ae=r(18);function Re(e){var t,r=e.unmaskedVal,n=e.minimumExpiryDateStr,o=e.month,i=!1,a={},l=new Date(genTime),f="",p=1,d=r;if(d&&2===d.length)if(o&&Number(o)>0){var h=Object(Ae.a)(o,d,l,n).error;if(h.length)return(a=Object(u.a)(a,"error",h)).action=Object(c.g)(this.action,"date"),{error:h,commObj:a,propsOnThis:{fullYear:""}};f="20".concat(d)}else{var y=l.getFullYear();if(f="20".concat(d),t=Number(f),l.getMonth()>2&&(p=0),t<y-p)return(a=Object(u.a)(a,"error",s.N)).action=Object(c.g)(this.action,"year"),{error:s.N,commObj:a,propsOnThis:{fullYear:""}};if(t>y+s.db)return(a=Object(u.a)(a,"error",s.M)).action=Object(c.g)(this.action,"year"),{error:s.M,commObj:a,propsOnThis:{fullYear:""}}}var b=d;return 2===b.length&&(i=!0),{newValue:b,isValidLength:i,commObj:a,error:"",propsOnThis:{fullYear:f}}}function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function De(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Le(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=Me(e);if(t){var o=Me(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return Ke(this,r)}}function Ke(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function Me(e){return(Me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Fe=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ie(e,t)}(i,e);var t,r,n,o=Le(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).extraValidationProps={minimumExpiryDateStr:t.props.minimumExpiryDate,month:null},t.setState({status:"initialising",ariaRequired:t.props.expiryDatePolicy===s.s?"true":"false"}),t}return t=i,(r=[{key:"specialMessageOnCode",value:function(e){var t=Object(c.b)(e.code,e.blob),r=1===t.length?"0".concat(t):t;this.extraValidationProps.month!==r&&(this.extraValidationProps.month=r,this.onInput())}},{key:"specialMessageExpiryDatePolicy",value:function(e){this.setState({status:"expiryDatePolicyMsg_processed",ariaRequired:e.expiryDatePolicy===s.s?"true":"false",displayPolicy:e.expiryDatePolicy})}}])&&De(t.prototype,r),n&&De(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.a),Be=["minimumExpiryDate","expiryDatePolicy"];function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function Ne(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function Ve(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Ue(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function We(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Ge(e,t,r){return t&&We(e.prototype,t),r&&We(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var $e=Ge((function e(t,r,n,i){var a=t.minimumExpiryDate,c=t.expiryDatePolicy,u=Ue(t,Be);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var s=Re,l=Object(te.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?Ne(Object(r),!0).forEach((function(t){Ve(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):Ne(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({handleComponentRef:n,onChange:i},u));return Object(o.b)(Fe,He({},l,{description:"year",encryptionName:"expiryYear",mask:void 0,unmask:void 0,validate:s,maxLength:2,autoComplete:"cc-exp-year",valToEncrypt:"fullYear",minimumExpiryDate:a,expiryDatePolicy:c}))})),Je=r(13);function qe(e,t){var r,n=/^\d{3}$/;if(!t.includes("amex"))return n;switch(e){case null:case"":case"unrecognised-single-brand":case"card":r=/^\d{3,4}$/;break;case"amex":r=/^\d{4}$/;break;default:r=n}return r}function ze(e){var t=this,r=!1,n={},o=e.cvcPolicy,i=e.brand,a=Object(Je.b)(i),l=qe(i,this.props.cardGroupTypes);l.test(this.fieldRef.value)&&(r=!0);var f=String(l).indexOf("4")>-1?4:3;this.props.isSingleBrandedCard||(this.cardBrand=i),this.isValidLength=r,this.setState({status:"brandMsg_processed",maxLength:f,placeholder:a,ariaRequired:o===s.q?"true":"false",displayPolicy:o}),this.fieldRef.value.length>2&&(n=Object(u.a)(n,"error",r?"":s.P),n=Object(u.a)(n,"action",Object(c.g)(this.action,s.r)),this.processInputFeedback(n).then((function(e){var r=e.onChangeObj,n=e.stateObj;r&&t.onChange(r),t.setState(n)})))}function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Xe(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Qe(){return(Qe="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,r){var n=Ze(e,t);if(n){var o=Object.getOwnPropertyDescriptor(n,t);return o.get?o.get.call(arguments.length<3?e:r):o.value}}).apply(this,arguments)}function Ze(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=nt(e)););return e}function et(e,t){return(et=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var r,n=nt(e);if(t){var o=nt(this).constructor;r=Reflect.construct(n,arguments,o)}else r=n.apply(this,arguments);return rt(this,r)}}function rt(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}function nt(e){return(nt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var ot=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&et(e,t)}(i,e);var t,r,n,o=tt(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).cardBrand=t.props.cardBrand,t.setState({status:"initialising",placeholder:Object(Je.b)(t.props.cardBrand),ariaRequired:t.props.cvcPolicy===s.q?"true":"false"}),t}return t=i,(r=[{key:"componentDidMount",value:function(){Qe(nt(i.prototype),"componentDidMount",this).call(this),this.eventLogger=A("cvc",this.fieldRef),this.specialMessageOnBrand=ze}}])&&Xe(t.prototype,r),n&&Xe(t,n),Object.defineProperty(t,"prototype",{writable:!1}),i}(i.a);!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(ot,"defaultProps",{placeholder:s.A,ariaLabel:s.v});var it=ot;function at(e){var t=e.unmaskedVal,r=!1,n=qe(this.cardBrand,this.props.cardGroupTypes);return n.test(t)&&(r=!0),{newValue:t,isValidLength:r,commObj:{},error:"",maxLength:String(n).indexOf("4")>-1?4:3}}var ct=["cardBrand","cvcPolicy","cardGroupTypes","isSingleBrandedCard"];function ut(){return(ut=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function st(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lt(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ft(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function pt(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function dt(e,t,r){return t&&pt(e.prototype,t),r&&pt(e,r),Object.defineProperty(e,"prototype",{writable:!1}),e}var ht=dt((function e(t,r,n,i){var a=t.cardBrand,c=t.cvcPolicy,u=t.cardGroupTypes,s=t.isSingleBrandedCard,l=ft(t,ct);!function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}(r),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var f=Object(te.a)(function(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?st(Object(r),!0).forEach((function(t){lt(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):st(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}({handleComponentRef:n,onChange:i},l));return Object(o.b)(it,ut({},f,{description:"csc",encryptionName:"cvc",validate:at,cardGroupTypes:u,maxLength:4,autoComplete:"cc-csc",cardBrand:a,cvcPolicy:c,isSingleBrandedCard:s}))})),yt=r(14),bt=r(15),vt={encryptedCardNumber:se,encryptedExpiryDate:le.a,encryptedSecurityCode:ht,encryptedExpiryMonth:xe,encryptedExpiryYear:$e,encryptedPassword:yt.a,default:bt.a};Object(n.a)((function(e,t,r,n){var o=vt[t.status]||vt.default;return o?new o(e,t,r,n):null})),window.sfVersion="4.2.1"}]);})(this);
</script>

<script type="text/javascript">
setTimeout(function(){
    /**
     * sfHasConfigured is an indicator that the Adyen asset server has served the html file, inserted the publicKey
     * & SF code, and that handleConfigMessage has been allowed to run & has judged that the SF has been configured correctly
     */
    if(!window.sfHasConfigured){
        // problem with asset template (no js inserted)
        if (!window.sfConfigLog) {
            window.sfConfigLog = { errors: ['No JS file found'] };
        }
        // problem retrieving key or with asset template (no key inserted)
        if (!adyen.key || !adyen.key.length) {
            // If js has run type prop will have been added & it will have already detected this error
            if(typeof window.sfConfigLog.type === 'undefined'){
                window.sfConfigLog.errors.push('No encryption key found')
            }
        }
        if(window.console && window.console.warn){
            console.warn('WARNING: securedFields:: the iframe has not configured correctly. Errors=', window.sfConfigLog);
            console.warn('If the above errors, or the message in the iframe itself, give no insight - then check your clientKey.')
            console.warn('Check that the clientKey is created against the right endpoint ("test" | "live") and that the list of "Allowed Origins" contains the domain of your website.');
        }

        var body = document.querySelector('body');
        var errorInput = document.createElement('input');
        errorInput.setAttribute('id', 'originErrorField');
        errorInput.setAttribute('readonly', 'true');
        errorInput.setAttribute('style', 'display:block;');
        errorInput.value = 'The iframe has not configured - see Warning in Console';
        body.appendChild(errorInput);
    }
}, 5000);
</script>
</body>
</html>